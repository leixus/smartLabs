/* empty css             *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                  *//* empty css               *//* empty css                 *//* empty css                        */import{_ as b}from"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-DgQCsAK8.js";import{_ as U}from"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-BaPcQrZE.js";import{_ as V}from"./index.vue_vue_type_script_setup_true_name_SInput_lang-C_fN4iWJ.js";import{d as L,bf as y,bg as c,p as P,j as f,Y as M,i as F,o as S,_ as v,u as o,w as u,b as l,am as w,I as q,y as H,$ as x,D as G,e as A,cF as Y,cG as k}from"./index-Djyl84eR.js";const le=L({__name:"pwdForm",props:{pwdPolicy:{type:Array,required:!0,default:()=>[]}},setup(E){const a=y().getDictList(c.YES_NO),m=P(!1),d=P(),t=f({PWD_DEFAULT_PASSWORD:"",PWD_REMIND:a[0].value,PWD_REMIND_DAY:30,PWD_UPDATE_DEFAULT:a[0].value,PWD_MIN_LENGTH:6,PWD_CONTAIN_NUM:a[0].value,PWD_CONTAIN_LOWER:a[0].value,PWD_CONTAIN_UPPER:a[0].value,PWD_CONTAIN_CHARACTER:a[0].value}),W=E;M(()=>W.pwdPolicy,n=>{n.forEach(e=>{typeof t[e.configKey]=="number"?t[e.configKey]=Number(e.configValue):t[e.configKey]=e.configValue})});const g=f({PWD_DEFAULT_PASSWORD:[{required:!0,message:"请输入系统默认密码",trigger:"blur"}],PWD_REMIND:[{required:!0,message:"请选择密码定期提醒更新",trigger:"blur"}],PWD_REMIND_DAY:[{required:!0,message:"请输入密码定期提醒更新时间",trigger:"blur"}],PWD_UPDATE_DEFAULT:[{required:!0,message:"请选择修改初始密码提醒",trigger:"blur"}],PWD_MIN_LENGTH:[{required:!0,message:"请输入密码最小长度",trigger:"blur"}],PWD_CONTAIN_NUM:[{required:!0,message:"请选择是否含数字",trigger:"blur"}],PWD_CONTAIN_LOWER:[{required:!0,message:"请选择是否包含小写字母",trigger:"blur"}],PWD_CONTAIN_UPPER:[{required:!0,message:"请选择是否包含大写字母",trigger:"blur"}],PWD_CONTAIN_CHARACTER:[{required:!0,message:"请选择是否包含特殊字符",trigger:"blur"}]});function T(){var n;(n=d.value)==null||n.validate(async e=>{if(!e)return;m.value=!0;const i=Object.entries(t).map(_=>({id:0,category:Y.LOGIN_POLICY,configKey:_[0],configValue:typeof _[1]=="object"?JSON.stringify(_[1]):String(_[1])}));k.configEditForm(i).finally(()=>{m.value=!1})})}function I(){var n;(n=d.value)==null||n.resetFields()}return(n,e)=>{const i=V,_=U,s=b,D=w,p=H,R=q,N=G,C=x,O=v;return S(),F(O,{ref_key:"pwdFormRef",ref:d,rules:o(g),model:o(t),"label-width":"auto","label-suffix":" :","label-position":"top"},{default:u(()=>[l(_,{label:"系统默认密码",prop:"PWD_DEFAULT_PASSWORD",class:"w-50"},{default:u(()=>[l(i,{modelValue:o(t).PWD_DEFAULT_PASSWORD,"onUpdate:modelValue":e[0]||(e[0]=r=>o(t).PWD_DEFAULT_PASSWORD=r)},null,8,["modelValue"])]),_:1}),l(_,{label:"密码定期提醒更新",prop:"PWD_REMIND"},{default:u(()=>[l(s,{modelValue:o(t).PWD_REMIND,"onUpdate:modelValue":e[1]||(e[1]=r=>o(t).PWD_REMIND=r),options:o(a)},null,8,["modelValue","options"])]),_:1}),l(_,{label:"密码定期提醒更新时间(天)",prop:"LOGIN_ERROR_LOCK"},{default:u(()=>[l(D,{modelValue:o(t).PWD_REMIND_DAY,"onUpdate:modelValue":e[2]||(e[2]=r=>o(t).PWD_REMIND_DAY=r),modelModifiers:{number:!0},min:1,max:999},null,8,["modelValue"])]),_:1}),l(_,{label:"修改初始密码提醒",prop:"PWD_UPDATE_DEFAULT"},{default:u(()=>[l(s,{modelValue:o(t).PWD_UPDATE_DEFAULT,"onUpdate:modelValue":e[3]||(e[3]=r=>o(t).PWD_UPDATE_DEFAULT=r),options:o(a)},null,8,["modelValue","options"])]),_:1}),l(_,{label:"密码最小长度",prop:"PWD_MIN_LENGTH"},{default:u(()=>[l(D,{modelValue:o(t).PWD_MIN_LENGTH,"onUpdate:modelValue":e[4]||(e[4]=r=>o(t).PWD_MIN_LENGTH=r),modelModifiers:{number:!0},min:6,max:20},null,8,["modelValue"])]),_:1}),l(R,{gutter:16},{default:u(()=>[l(p,{span:6},{default:u(()=>[l(_,{label:"是否含数字",prop:"PWD_CONTAIN_NUM"},{default:u(()=>[l(s,{modelValue:o(t).PWD_CONTAIN_NUM,"onUpdate:modelValue":e[5]||(e[5]=r=>o(t).PWD_CONTAIN_NUM=r),options:o(a)},null,8,["modelValue","options"])]),_:1})]),_:1}),l(p,{span:6},{default:u(()=>[l(_,{label:"是否包含小写字母",prop:"PWD_CONTAIN_LOWER"},{default:u(()=>[l(s,{modelValue:o(t).PWD_CONTAIN_LOWER,"onUpdate:modelValue":e[6]||(e[6]=r=>o(t).PWD_CONTAIN_LOWER=r),options:o(a)},null,8,["modelValue","options"])]),_:1})]),_:1}),l(p,{span:6},{default:u(()=>[l(_,{label:"是否包含大写字母",prop:"PWD_CONTAIN_UPPER"},{default:u(()=>[l(s,{modelValue:o(t).PWD_CONTAIN_UPPER,"onUpdate:modelValue":e[7]||(e[7]=r=>o(t).PWD_CONTAIN_UPPER=r),options:o(a)},null,8,["modelValue","options"])]),_:1})]),_:1}),l(p,{span:6},{default:u(()=>[l(_,{label:"是否包含特殊字符",prop:"PWD_CONTAIN_CHARACTER"},{default:u(()=>[l(s,{modelValue:o(t).PWD_CONTAIN_CHARACTER,"onUpdate:modelValue":e[8]||(e[8]=r=>o(t).PWD_CONTAIN_CHARACTER=r),options:o(a)},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1}),l(C,null,{default:u(()=>[l(N,{type:"primary",loading:o(m),onClick:e[9]||(e[9]=r=>T())},{default:u(()=>e[10]||(e[10]=[A("保存")])),_:1},8,["loading"]),l(N,{style:{"margin-left":"10px"},onClick:I},{default:u(()=>e[11]||(e[11]=[A("重置")])),_:1})]),_:1})]),_:1},8,["rules","model"])}}});export{le as _};
