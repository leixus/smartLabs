import{_ as Q}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BVglHUD0.js";/* empty css             *//* empty css                  *//* empty css                        *//* empty css                  *//* empty css                     *//* empty css                         *//* empty css               */import{R as A,d as x,p as f,c as F,o as O,a as W,b as s,w as a,D as z,u as i,N as K,e as r,O as h,P as X,x as Y,Q as Z,S as tt,T as et,g as ot,t as w,U as at,B as T,V as y,W as v}from"./index-ClSyKtod.js";import{m as t}from"./mock-Lm0ig56v.js";import nt from"./index-BOJpOTi6.js";import{S as st}from"./SelectItemDetails-s9RQq5EK.js";/* empty css                 *//* empty css                   *//* empty css                       *//* empty css                 *//* empty css                   */import{_ as rt}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                 *//* empty css                    *//* empty css                 *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  *//* empty css                  */import"./sortable.esm-C83syoBY.js";/* empty css                  *//* empty css                    *//* empty css                         *//* empty css               *//* empty css                 */import"./index-CWojOXhw.js";import"./index-CcYD0OQN.js";/* empty css                  */import"./index-DaxbFKHD.js";import"./deviceLifecycle-D8q8egRR.js";import"./index-CrkwDmZw.js";/* empty css                */import"./el-tab-pane-l0sNRNKZ.js";/* empty css                             */function it(d){return Array.from({length:d*2}).map((p,b)=>({id:t.Random.id(),sampleNo:t.Random.id(),testItems:t.Random.pick(["冲击检测","拉伸检测"]),testStandard:t.Random.pick(["GB/T 50081","JGJ/T 70","GB/T 50082"]),isRecheck:t.Random.boolean(),reportStatus:t.Random.pick(["待审核","已通过","已驳回","已完成"]),reportNo:`R${t.Random.string("number",8)}`,status:t.Random.pick(["待检测","检测中","已完成"]),nextStatus:t.Random.pick(["待审核","待复检","可出具报告"]),projectNo:`P${t.Random.string("number",8)}`,entrustCompany:t.Random.ctitle(4,8)+"有限公司",contractNo:`C${t.Random.string("number",8)}`,entrustNo:`E${t.Random.string("number",8)}`,firstTestSampleNo:t.Random.string("number",10),firstTestReportNo:`FR${t.Random.string("number",8)}`,testDepartment:t.Random.pick(["材料室","结构室","建材室"]),testLocation:t.Random.pick(["实验室","现场"]),testCategory:t.Random.pick(["常规检测","见证取样","现场检测"]),sampleName:t.Random.pick(["冲击试样","夏比V型缺口试样","夏比U型缺口试样","摆锤冲击试样"]),materialCode:`M${t.Random.string("number",8)}`,sampleStatus:t.Random.pick(["正常","异常"]),sampleStatusDesc:t.Random.csentence(5,10),projectLocation:t.Random.city()+t.Random.ctitle(3,6)+"工程",projectInfo:t.Random.csentence(8,15),requiredCompleteDate:t.Random.date("yyyy-MM-dd"),specification:t.Random.pick(["100×100×100","150×150×150"]),maintenanceCondition:t.Random.pick(["标准养护","自然养护"]),testParams:t.Random.pick(["28天强度","7天强度"]),testProcess:t.Random.pick(["已取样","养护中","已测试"]),unitQuantity:t.Random.integer(1,10)+"组",fieldTestTime:t.Random.datetime("yyyy-MM-dd HH:mm:ss"),appointedTestDate:t.Random.date("yyyy-MM-dd"),sampleHandling:t.Random.pick(["送检","取样","见证"]),registrant:t.Random.cname(),registrationSite:t.Random.city()+"试验室"}))}const lt=(d,m)=>{const p=it(m);return{code:A.SUCCESS,msg:"success",data:{list:p,total:d*m,pageNum:d,pageSize:m}}},pt={class:"main-box"},mt={class:"table-box"},ct=x({name:"checkTestData"}),dt=x({...ct,setup(d){const m=[{type:"selection",width:60},{type:"index",label:"序号",width:80},{prop:"materialCode",label:"物料编码",width:120},{prop:"sampleNo",label:"样品编号",width:180,search:{el:"input",props:{placeholder:"请输入样品编号"}}},{prop:"sampleName",label:"样品名称",width:160},{prop:"testItems",label:"检测项目",width:120},{prop:"isRecheck",label:"是否复检",width:100},{prop:"status",label:"状态",width:100},{prop:"nextStatus",label:"下一状态",width:130},{prop:"entrustCompany",label:"委托单位",width:180},{prop:"entrustNo",label:"委托单号",width:130,search:{el:"input",props:{placeholder:"请输入委托单号"}}},{prop:"sampleStatus",label:"样品状态",width:100},{prop:"sampleStatusDesc",label:"样品状态描述",width:150},{prop:"registrant",label:"登记人",width:100},{prop:"operation",label:"操作",width:220,fixed:"right"}],p=f(!1),b=async n=>Promise.resolve(lt(n.pageNum,n.pageSize)),D={pageNum:1,pageSize:10},M=n=>n,_=f(),u=f(!1),k=f("add"),g=f(null),C=(n,e)=>{k.value=n,g.value=e,u.value=!0},N=()=>{u.value=!1,g.value=null},I=n=>{p.value=!0},E=n=>{var e;k.value==="add"?y.success("新增成功"):y.success("编辑成功"),(e=_.value)==null||e.getTableList()},$=async n=>{var e;if(!n.length){y.warning("请选择要删除的数据");return}try{await v.confirm("确定要删除选中的数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),y.success("删除成功"),(e=_.value)==null||e.getTableList()}catch{}},B=async n=>{var e;try{await v.confirm("确定要删除该条数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),y.success("删除成功"),(e=_.value)==null||e.getTableList()}catch{}},V=n=>{},L=n=>{},P=n=>({false:"info",true:"success"})[n]||"info",U=n=>({正常:"success",异常:"danger"})[n]||"info",j=n=>({待检验:"info",检验中:"warning",已完成:"success",已驳回:"danger"})[n]||"info";return(n,e)=>{const l=z,R=ot,H=Y,S=et,G=tt,q=X,J=Q;return O(),F("div",pt,[W("div",mt,[s(J,{ref_key:"proTable",ref:_,columns:m,"request-api":b,"init-param":D,"data-callback":M},{tableHeader:a(o=>[s(l,{type:"primary",icon:i(at),onClick:e[0]||(e[0]=c=>C("add"))},{default:a(()=>e[3]||(e[3]=[r("新增录入")])),_:1},8,["icon"]),s(l,{type:"danger",icon:i(h),onClick:c=>$(o.selectedListIds)},{default:a(()=>e[4]||(e[4]=[r("删除")])),_:2},1032,["icon","onClick"])]),testItems:a(o=>[s(l,{type:"primary",link:"",onClick:c=>I(o.row)},{default:a(()=>[r(w(o.row.testItems),1)]),_:2},1032,["onClick"])]),isRecheck:a(o=>[s(R,{type:P(o.row.isRecheck),effect:"light"},{default:a(()=>[r(w(o.row.isRecheck?"是":"否"),1)]),_:2},1032,["type"])]),nextStatus:a(o=>[s(R,{type:"info",effect:"light"},{default:a(()=>[r(w(o.row.nextStatus),1)]),_:2},1024)]),sampleStatus:a(o=>[s(R,{type:U(o.row.sampleStatus),effect:"light"},{default:a(()=>[r(w(o.row.sampleStatus),1)]),_:2},1032,["type"])]),status:a(o=>[s(R,{type:j(o.row.status),effect:"light"},{default:a(()=>[r(w(o.row.status),1)]),_:2},1032,["type"])]),operation:a(o=>[s(l,{type:"primary",link:"",icon:i(K),onClick:c=>C("edit",o.row)},{default:a(()=>e[5]||(e[5]=[r("编辑")])),_:2},1032,["icon","onClick"]),s(l,{type:"danger",link:"",icon:i(h),onClick:c=>B(o.row)},{default:a(()=>e[6]||(e[6]=[r("删除")])),_:2},1032,["icon","onClick"]),s(q,{class:"text-sm pt-[2px] pl-[12px]"},{dropdown:a(()=>[s(G,null,{default:a(()=>[s(S,{onClick:c=>V(o.row)},{default:a(()=>e[8]||(e[8]=[r("样品")])),_:2},1032,["onClick"]),s(S,{onClick:c=>L(o.row)},{default:a(()=>e[9]||(e[9]=[r("委托单")])),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[s(l,{type:"primary",link:""},{default:a(()=>[e[7]||(e[7]=r(" 更多 ")),s(H,{class:"el-icon--right"},{default:a(()=>[s(i(Z))]),_:1})]),_:1})]),_:2},1024)]),_:1},512)]),s(st,{modelValue:i(p),"onUpdate:modelValue":e[1]||(e[1]=o=>T(p)?p.value=o:null)},null,8,["modelValue"]),s(nt,{visible:i(u),"onUpdate:visible":e[2]||(e[2]=o=>T(u)?u.value=o:null),type:i(k),"row-data":i(g),onClose:N,onSubmit:E},null,8,["visible","type","row-data"])])}}}),oe=rt(dt,[["__scopeId","data-v-cb2aa80e"]]);export{oe as default};
