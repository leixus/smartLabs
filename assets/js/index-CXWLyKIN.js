/* empty css             *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                *//* empty css                       *//* empty css                 *//* empty css                     *//* empty css                  *//* empty css                       *//* empty css                 */import"./el-form-item-l0sNRNKZ.js";/* empty css                 *//* empty css                   */import{d as y,p as g,j as b,X as T,Y as w,i as U,o as B,w as a,b as o,_ as C,u as t,$ as F,K as S,ak as j,al as G,e as i,an as K,a as M,D as P,B as X,ab as Y,V as $}from"./index-ClSyKtod.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"dialog-footer"},H=y({name:"SampleReceptionDialog"}),J=y({...H,props:{modelValue:{type:Boolean,default:!1},type:{default:"confirm"},rowData:{default:()=>({})}},emits:["update:modelValue","success"],setup(D,{emit:k}){const s=D,c=k,p=g(!1),u=g(),l=b({sampleId:"",sampleName:"",result:"accept",comment:"",operator:"",operateTime:new Date}),v=b({result:[{required:!0,message:"请选择处理结果",trigger:"change"}],comment:[{required:!0,message:"请输入处理意见",trigger:"blur"}],operator:[{required:!0,message:"请输入处理人姓名",trigger:"blur"}],operateTime:[{required:!0,message:"请选择处理时间",trigger:"change"}]}),E=T(()=>s.type==="confirm"?"确认收样":"复核收样");w(()=>s.modelValue,m=>{p.value=m,m&&(l.sampleId=s.rowData.sampleId,l.sampleName=s.rowData.sampleName,l.result="accept",l.comment="",l.operator="",l.operateTime=new Date)}),w(()=>p.value,m=>{var e;c("update:modelValue",m),m||(e=u.value)==null||e.resetFields()});const f=()=>{p.value=!1},I=async()=>{u.value&&await u.value.validate((m,e)=>{m?(s.type,$.success("提交成功"),c("success",{...l,type:s.type}),f()):console.error("表单校验失败:",e)})};return(m,e)=>{const n=S,d=F,_=G,N=j,q=K,R=C,V=P,x=Y;return B(),U(x,{modelValue:t(p),"onUpdate:modelValue":e[6]||(e[6]=r=>X(p)?p.value=r:null),title:t(E),width:"50%","close-on-click-modal":!1,onClose:f},{footer:a(()=>[M("div",A,[o(V,{onClick:f},{default:a(()=>e[9]||(e[9]=[i("取消")])),_:1}),o(V,{type:"primary",onClick:I},{default:a(()=>e[10]||(e[10]=[i("确定")])),_:1})])]),default:a(()=>[o(R,{ref_key:"formRef",ref:u,model:t(l),rules:t(v),"label-width":"100px"},{default:a(()=>[o(d,{label:"样品编号",prop:"sampleId"},{default:a(()=>[o(n,{modelValue:t(l).sampleId,"onUpdate:modelValue":e[0]||(e[0]=r=>t(l).sampleId=r),disabled:""},null,8,["modelValue"])]),_:1}),o(d,{label:"样品名称",prop:"sampleName"},{default:a(()=>[o(n,{modelValue:t(l).sampleName,"onUpdate:modelValue":e[1]||(e[1]=r=>t(l).sampleName=r),disabled:""},null,8,["modelValue"])]),_:1}),o(d,{label:"处理结果",prop:"result",required:""},{default:a(()=>[o(N,{modelValue:t(l).result,"onUpdate:modelValue":e[2]||(e[2]=r=>t(l).result=r)},{default:a(()=>[o(_,{label:"accept"},{default:a(()=>e[7]||(e[7]=[i("接收")])),_:1}),o(_,{label:"reject"},{default:a(()=>e[8]||(e[8]=[i("退回")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(d,{label:"处理意见",prop:"comment",required:""},{default:a(()=>[o(n,{modelValue:t(l).comment,"onUpdate:modelValue":e[3]||(e[3]=r=>t(l).comment=r),type:"textarea",rows:3,placeholder:"请输入处理意见"},null,8,["modelValue"])]),_:1}),o(d,{label:"处理人",prop:"operator",required:""},{default:a(()=>[o(n,{modelValue:t(l).operator,"onUpdate:modelValue":e[4]||(e[4]=r=>t(l).operator=r),placeholder:"请输入处理人姓名"},null,8,["modelValue"])]),_:1}),o(d,{label:"处理时间",prop:"operateTime",required:""},{default:a(()=>[o(q,{modelValue:t(l).operateTime,"onUpdate:modelValue":e[5]||(e[5]=r=>t(l).operateTime=r),type:"datetime",placeholder:"请选择处理时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),ue=z(J,[["__scopeId","data-v-91530896"]]);export{ue as default};
