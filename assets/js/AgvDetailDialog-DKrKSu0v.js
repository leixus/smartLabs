/* empty css             *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                             *//* empty css                    *//* empty css               */import{d as h,p as C,Y as b,i as v,o as r,w as t,c as d,Z as y,a as p,b as e,h as M,f as A,e as n,t as i,g as I,bI as N,F as T,r as j,D as F,ab as G}from"./index-Djyl84eR.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={key:0,class:"agv-detail"},O={class:"mb-4"},P={key:0,class:"task-tags"},R={key:1},U={class:"flex justify-end"},Y=h({__name:"AgvDetailDialog",props:{visible:{type:Boolean,default:!1},agvData:{type:[Object,null],default:()=>({})}},emits:["update:visible","createMaintenance"],setup(a,{emit:w}){const g=a,m=w,c=C(g.visible);b(()=>g.visible,s=>{c.value=s}),b(()=>c.value,s=>{m("update:visible",s)});const k=s=>{switch(s){case"正常":return"success";case"警告":return"warning";case"故障":return"danger";case"维护中":return"info";default:return"info"}},V=s=>s<20?"exception":s<50?"warning":"success",_=s=>{switch(s){case"空闲":return"info";case"繁忙":return"warning";case"运行中":return"success";case"充电中":return"warning";case"停止":return"danger";default:return"info"}},x=()=>{m("createMaintenance",g.agvData),c.value=!1};return(s,u)=>{const l=A,f=I,B=N,E=M,D=F,S=G;return r(),v(S,{modelValue:c.value,"onUpdate:modelValue":u[1]||(u[1]=o=>c.value=o),title:"AGV详细信息",width:"500px"},{default:t(()=>[a.agvData?(r(),d("div",L,[p("div",O,[e(E,{column:1,border:""},{default:t(()=>[e(l,{label:"AGV ID"},{default:t(()=>[n(i(a.agvData.id),1)]),_:1}),e(l,{label:"名称"},{default:t(()=>[n(i(a.agvData.name),1)]),_:1}),e(l,{label:"设备状态"},{default:t(()=>[e(f,{type:k(a.agvData.status)},{default:t(()=>[n(i(a.agvData.status),1)]),_:1},8,["type"])]),_:1}),e(l,{label:"电量"},{default:t(()=>[e(B,{percentage:a.agvData.battery,status:V(a.agvData.battery)},null,8,["percentage","status"])]),_:1}),e(l,{label:"当前位置"},{default:t(()=>[n(i(a.agvData.location),1)]),_:1}),e(l,{label:"当前路线"},{default:t(()=>[n(i(a.agvData.route||"无"),1)]),_:1}),e(l,{label:"关联任务"},{default:t(()=>[a.agvData.tasks&&a.agvData.tasks.length>0?(r(),d("div",P,[(r(!0),d(T,null,j(a.agvData.tasks,o=>(r(),v(f,{key:o.id,type:o.priority===3?"danger":o.priority===2?"warning":"info",class:"mr-1 mb-1"},{default:t(()=>[n(i(o.name),1)]),_:2},1032,["type"]))),128))])):(r(),d("span",R,"无"))]),_:1}),e(l,{label:"运行状态"},{default:t(()=>[e(f,{type:_(a.agvData.runningStatus)},{default:t(()=>[n(i(a.agvData.runningStatus),1)]),_:1},8,["type"])]),_:1}),e(l,{label:"上次维护时间"},{default:t(()=>[n(i(a.agvData.lastMaintenance),1)]),_:1}),e(l,{label:"运行时间"},{default:t(()=>[n(i(a.agvData.runningHours)+" 小时",1)]),_:1}),e(l,{label:"下次计划维护"},{default:t(()=>[n(i(a.agvData.nextMaintenance),1)]),_:1})]),_:1})]),p("div",U,[e(D,{onClick:u[0]||(u[0]=o=>c.value=!1)},{default:t(()=>u[2]||(u[2]=[n("关闭")])),_:1}),a.agvData&&(a.agvData.status==="警告"||a.agvData.status==="故障")?(r(),v(D,{key:0,type:"warning",onClick:x},{default:t(()=>u[3]||(u[3]=[n(" 创建维护请求 ")])),_:1})):y("",!0)])])):y("",!0)]),_:1},8,["modelValue"])}}}),aa=H(Y,[["__scopeId","data-v-482ee5ca"]]);export{aa as default};
