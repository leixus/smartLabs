import{_ as D}from"./index-DKovId2h.js";/* empty css             *//* empty css                  *//* empty css                *//* empty css                  *//* empty css                 *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  */import{_ as F}from"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CkA160Xq.js";import{_ as U}from"./index.vue_vue_type_script_setup_true_name_SInput_lang-Byk8g2NW.js";import{d as B,p as c,j as _,i as E,o as K,w as a,b as l,_ as q,u as r,bm as A,aH as O,D as R,e as V,aI as S,B as $,cG as j}from"./index-ClSyKtod.js";import{r as m}from"./formRules-BdD8zfEi.js";import{F as b}from"./formEnum-CT3LisML.js";const h=B({__name:"form",setup(N,{expose:g}){const i=c(!1),e=_({opt:b.ADD,record:{},disabled:!1}),y=_({configKey:[m("请输入配置键")],configValue:[m("请输入配置值")],sortCode:[m("请输入排序")]});function C(n){Object.assign(e,n),n.opt==b.ADD&&(e.record.sortCode=99),i.value=!0}const u=c();async function k(){var n;(n=u.value)==null||n.validate(async o=>{o&&await j.submitForm(e.record,e.record.id!=null).then(()=>{e.successful()}).finally(()=>{f()})})}function f(){i.value=!1}return g({onOpen:C}),(n,o)=>{const d=U,s=F,v=A,w=q,p=R,x=D;return K(),E(x,{modelValue:r(i),"onUpdate:modelValue":o[4]||(o[4]=t=>$(i)?i.value=t:null),title:`${r(e).opt}配置`,"form-size":"600px"},{footer:a(()=>[l(p,{onClick:f},{default:a(()=>o[5]||(o[5]=[V(" 取消 ")])),_:1}),O(l(p,{type:"primary",onClick:k},{default:a(()=>o[6]||(o[6]=[V(" 确定 ")])),_:1},512),[[S,!r(e).disabled]])]),default:a(()=>[l(w,{ref_key:"configFormRef",ref:u,rules:r(y),disabled:r(e).disabled,model:r(e).record,"hide-required-asterisk":r(e).disabled,"label-width":"auto","label-suffix":" :"},{default:a(()=>[l(s,{label:"配置键",prop:"configKey"},{default:a(()=>[l(d,{modelValue:r(e).record.configKey,"onUpdate:modelValue":o[0]||(o[0]=t=>r(e).record.configKey=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"配置值",prop:"configValue"},{default:a(()=>[l(d,{modelValue:r(e).record.configValue,"onUpdate:modelValue":o[1]||(o[1]=t=>r(e).record.configValue=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"备注",prop:"remark"},{default:a(()=>[l(d,{modelValue:r(e).record.remark,"onUpdate:modelValue":o[2]||(o[2]=t=>r(e).record.remark=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"排序",prop:"sortCode"},{default:a(()=>[l(v,{modelValue:r(e).record.sortCode,"onUpdate:modelValue":o[3]||(o[3]=t=>r(e).record.sortCode=t),"show-input":"",min:1},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","disabled","model","hide-required-asterisk"])]),_:1},8,["modelValue","title"])}}});export{h as _};
