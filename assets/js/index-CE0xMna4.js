/* empty css             *//* empty css                 *//* empty css                *//* empty css                *//* empty css                 *//* empty css                *//* empty css                  *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                  */import{i as q,j as K}from"./abnormalWarningResponse-CdeCMXN7.js";import O from"./SuggestionDetailDialog-BZG1x6VQ.js";import{d as W,p as m,X as T,q as X,c as r,o as n,a as t,b as i,z as Y,w as d,F as g,r as f,g as Z,e as p,t as o,Z as C,D as J,L as Q,M as ee,s as te,K as se,i as V,bY as le,ah as oe,ai as ie,a1 as ae,W as ne,V as M}from"./index-yDSqlga2.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./mock-Dosj8-Nv.js";/* empty css                  *//* empty css                   *//* empty css                         *//* empty css                         *//* empty css                 *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                             */const re={class:"response-container"},ce={class:"section-container mb-6"},ue={class:"grid grid-cols-1 gap-4"},pe={class:"card-header gap-4"},_e={class:"suggestion-list"},ve={class:"suggestion-header"},me={class:"suggestion-type-time"},ge={class:"suggestion-time"},fe={class:"suggestion-status"},ye={class:"suggestion-content"},he={class:"suggestion-main"},ke={class:"suggestion-title"},we={class:"suggestion-target"},be={class:"suggestion-description"},Ee={key:0,class:"suggestion-details"},Ce={class:"details-label"},Ve={class:"details-value"},xe={class:"details-suggested"},Se={class:"suggestion-actions"},De={class:"section-container"},Te={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Me={class:"lg:col-span-1"},Be={class:"card-header gap-4"},Le={class:"guide-list"},Ge=["onClick"],Ae={class:"guide-item-title"},Re={class:"guide-item-category"},Ne={class:"lg:col-span-2"},$e={class:"card-header"},Fe={class:"guide-detail-content"},He={class:"guide-info"},Pe={class:"info-item"},Ue={class:"info-item"},ze={class:"info-item"},Ie={class:"guide-description"},je={class:"guide-steps"},qe={key:0,class:"guide-notes"},Ke={key:1,class:"guide-contact"},Oe={class:"contact-info"},We=W({__name:"index",setup(Xe){const v=m(q()),y=m([]),a=m(null),B=()=>{y.value=K()},L=l=>{a.value=y.value[l]},h=m("all"),G=T(()=>h.value==="all"?v.value:v.value.filter(l=>l.type===A(h.value))),A=l=>({device:"设备调整",parameter:"参数调整",process:"流程调整"})[l],k=m(""),R=T(()=>{if(!k.value)return y.value;const l=k.value.toLowerCase();return y.value.filter(e=>e.title.toLowerCase().includes(l)||e.category.toLowerCase().includes(l)||e.description.toLowerCase().includes(l))}),x=m(),N=l=>{var e;(e=x.value)==null||e.show(l)},S=async l=>{try{await ne.confirm("确定要执行此调整建议吗？执行后可能会影响系统运行。","确认执行",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const e=await $(v.value[l]);if(e.success){v.value[l].isApplied=!0;const _={time:new Date().toLocaleString(),action:"执行建议",status:"成功",description:"成功应用调整建议",operator:"系统管理员"};v.value[l].executionHistory=[_,...v.value[l].executionHistory||[]],M.success("建议已成功执行")}else throw new Error(e.message)}catch(e){if(e==="cancel")return;M.error(e.message||"执行失败，请重试")}},$=async l=>new Promise(e=>{setTimeout(()=>{const _={success:!0,message:`成功执行建议：${l.title}`};e(_)},1e3)}),F=l=>{switch(l){case"参数调整":return"warning";case"设备调整":return"danger";case"流程调整":return"info";default:return"info"}};return X(()=>{B()}),(l,e)=>{const _=ee,H=Q,E=Z,w=J,b=Y,P=se,U=le,z=ie,I=oe,j=ae;return n(),r("div",re,[t("div",ce,[e[7]||(e[7]=t("h3",{class:"section-title"},"自动化调整建议",-1)),t("div",ue,[i(b,{class:"suggestion-card"},{header:d(()=>[t("div",pe,[e[3]||(e[3]=t("span",null,"系统建议",-1)),i(H,{class:"flex-1",modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=s=>h.value=s),placeholder:"筛选类型"},{default:d(()=>[i(_,{label:"全部",value:"all"}),i(_,{label:"设备调整",value:"device"}),i(_,{label:"参数调整",value:"parameter"})]),_:1},8,["modelValue"])])]),default:d(()=>[t("div",_e,[(n(!0),r(g,null,f(G.value,(s,c)=>(n(),r("div",{key:c,class:"suggestion-item"},[t("div",ve,[t("div",me,[i(E,{type:F(s.type)},{default:d(()=>[p(o(s.type),1)]),_:2},1032,["type"]),t("span",ge,o(s.time),1)]),t("div",fe,[i(E,{type:s.isApplied?"success":"info"},{default:d(()=>[p(o(s.isApplied?"已应用":"未应用"),1)]),_:2},1032,["type"])])]),t("div",ye,[t("div",he,[t("div",ke,o(s.title),1),t("div",we,"目标："+o(s.target),1),t("div",be,o(s.description),1),s.details?(n(),r("div",Ee,[(n(!0),r(g,null,f(s.details,(u,D)=>(n(),r("div",{class:"details-item",key:D},[t("span",Ce,o(u.label)+":",1),t("span",Ve,o(u.current),1),e[4]||(e[4]=t("span",{class:"details-arrow"},"→",-1)),t("span",xe,o(u.suggested),1)]))),128))])):C("",!0)]),t("div",Se,[i(w,{type:"primary",disabled:s.isApplied,onClick:u=>S(c)},{default:d(()=>e[5]||(e[5]=[p(" 执行建议 ")])),_:2},1032,["disabled","onClick"]),i(w,{type:"info",onClick:u=>N(s)},{default:d(()=>e[6]||(e[6]=[p("查看详情")])),_:2},1032,["onClick"])])])]))),128))])]),_:1})])]),t("div",De,[e[20]||(e[20]=t("h3",{class:"section-title"},"人工干预指引",-1)),t("div",Te,[t("div",Me,[i(b,{class:"guide-list-card"},{header:d(()=>[t("div",Be,[e[8]||(e[8]=t("span",null,"故障排除指南",-1)),i(P,{class:"flex-1",modelValue:k.value,"onUpdate:modelValue":e[1]||(e[1]=s=>k.value=s),placeholder:"搜索指南","prefix-icon":"Search",clearable:""},null,8,["modelValue"])])]),default:d(()=>[t("div",Le,[(n(!0),r(g,null,f(R.value,(s,c)=>{var u;return n(),r("div",{key:s.id,class:te(["guide-item",{"is-active":((u=a.value)==null?void 0:u.id)===s.id}]),onClick:D=>L(c)},[t("div",Ae,o(s.title),1),t("div",Re,[i(E,null,{default:d(()=>[p(o(s.category),1)]),_:2},1024)])],10,Ge)}),128))])]),_:1})]),t("div",Ne,[a.value!==null?(n(),V(b,{key:0,class:"guide-detail-card"},{header:d(()=>[t("div",$e,[t("span",null,o(a.value.title),1),t("div",null,[i(w,{type:"primary",icon:"Printer"},{default:d(()=>e[9]||(e[9]=[p("打印")])),_:1}),i(w,{type:"success",icon:"Download"},{default:d(()=>e[10]||(e[10]=[p("下载PDF")])),_:1})])])]),default:d(()=>[t("div",Fe,[t("div",He,[t("div",Pe,[e[11]||(e[11]=t("span",{class:"info-label"},"适用设备：",-1)),t("span",null,o(a.value.appliesTo),1)]),t("div",Ue,[e[12]||(e[12]=t("span",{class:"info-label"},"难度级别：",-1)),i(U,{modelValue:a.value.difficulty,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.difficulty=s),disabled:"","text-color":"#ff9900"},null,8,["modelValue"])]),t("div",ze,[e[13]||(e[13]=t("span",{class:"info-label"},"预计时间：",-1)),t("span",null,o(a.value.estimatedTime),1)])]),t("div",Ie,[e[14]||(e[14]=t("h4",null,"问题描述",-1)),t("p",null,o(a.value.description),1)]),t("div",je,[e[15]||(e[15]=t("h4",null,"解决步骤",-1)),i(I,{direction:"vertical",active:1},{default:d(()=>[(n(!0),r(g,null,f(a.value.steps,(s,c)=>(n(),V(z,{key:c,title:s.title,description:s.description},null,8,["title","description"]))),128))]),_:1})]),a.value.notes?(n(),r("div",qe,[e[16]||(e[16]=t("h4",null,"注意事项",-1)),(n(!0),r(g,null,f(a.value.notes,(s,c)=>(n(),r("div",{class:"note-item",key:c},[i(j,{title:s,type:c===0?"warning":"info",closable:!1,"show-icon":""},null,8,["title","type"])]))),128))])):C("",!0),a.value.contact?(n(),r("div",Ke,[e[17]||(e[17]=t("h4",null,"需要帮助？",-1)),e[18]||(e[18]=t("p",null,"如果以上步骤无法解决问题，请联系：",-1)),t("div",Oe,[t("p",null,[t("strong",null,o(a.value.contact.name),1),p(" ("+o(a.value.contact.role)+") ",1)]),t("p",null,"电话："+o(a.value.contact.phone),1),t("p",null,"邮箱："+o(a.value.contact.email),1)])])):C("",!0)])]),_:1})):(n(),V(b,{key:1,class:"empty-guide-card"},{default:d(()=>e[19]||(e[19]=[t("div",{class:"empty-guide"},[t("p",null,"请从左侧选择一个故障排除指南")],-1)])),_:1}))])])]),i(O,{ref_key:"detailDialog",ref:x,onExecute:S},null,512)])}}}),kt=de(We,[["__scopeId","data-v-28af5a76"]]);export{kt as default};
