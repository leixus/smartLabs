/* empty css             *//* empty css               *//* empty css                  *//* empty css                        *//* empty css                  *//* empty css                     *//* empty css                         */import{_ as G}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-D0lzutwe.js";import{g as J}from"./deviceLifecycle-Dr8H_B-E.js";import{d as $,p as s,c as K,o as w,a as X,i as _,Z as y,b as o,w as a,g as ee,e as i,t as k,D as te,u as r,N as le,O as D,P as ae,x as oe,Q as re,S as ie,T as ne,U as se,B as x,W as T,V as C}from"./index-Djyl84eR.js";import pe from"./index-CM-UiQUf.js";import ue from"./index-CVeaSsIi.js";import ce from"./index-s9l81izl.js";import{_ as de}from"./index.vue_vue_type_script_setup_true_name_usageRecordDialog_lang-LCDZuHHE.js";import{_ as me}from"./index.vue_vue_type_script_setup_true_name_maintenanceRecordDialog_lang-BGMZmjGS.js";/* empty css                       *//* empty css                 *//* empty css                   *//* empty css                 *//* empty css                   */import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                 *//* empty css                    *//* empty css                 *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  *//* empty css                  */import"./sortable.esm-C83syoBY.js";import"./mock-DhPNTjQr.js";/* empty css                       *//* empty css                       *//* empty css                        *//* empty css                  *//* empty css                         *//* empty css                *//* empty css                  */const be={class:"main-box"},we={class:"table-box"},fe=$({name:"deviceLifecycleManage"}),he=$({...fe,setup(ge){const m=s(),M=[{type:"selection",width:60},{type:"index",label:"序号",width:80},{prop:"deviceCode",label:"设备编号",width:150,search:{el:"input",props:{placeholder:"请输入设备编号"}}},{prop:"deviceName",label:"设备名称",width:150,search:{el:"input",props:{placeholder:"请输入设备名称"}}},{prop:"deviceStatus",label:"设备状态",width:100,enum:[{label:"正常",value:"正常"},{label:"维修中",value:"维修中"},{label:"报废",value:"报废"},{label:"闲置",value:"闲置"}],search:{el:"select",props:{placeholder:"请选择设备状态",clearable:!0}}},{prop:"runningStatus",label:"运行状态",width:100,enum:[{label:"运行中",value:"运行中"},{label:"停用",value:"停用"},{label:"待机",value:"待机"}],search:{el:"select",props:{placeholder:"请选择运行状态",clearable:!0}}},{prop:"specification",label:"规格型号",width:120},{prop:"testRange",label:"检测范围",width:120},{prop:"accuracyRequirement",label:"精度要求",width:120},{prop:"factoryNumber",label:"出厂编号",width:120},{prop:"quantity",label:"数量（台/套）",width:140},{prop:"manufacturer",label:"制造厂商",width:150},{prop:"purchasePrice",label:"购置价格（元）",width:140},{prop:"purchaseDate",label:"购置日期",width:120,search:{el:"date-picker",props:{placeholder:"请选择购置日期",valueFormat:"YYYY-MM-DD"}}},{prop:"traceabilityMethod",label:"溯源方式",width:120,enum:[{label:"检定",value:"检定"},{label:"校准",value:"校准"},{label:"自校准",value:"自校准"}],search:{el:"select",props:{placeholder:"请选择溯源方式",clearable:!0}}},{prop:"traceabilityUnit",label:"溯源单位",width:150},{prop:"traceabilityCycle",label:"溯源周期",width:120},{prop:"nextTraceDate",label:"下次溯源日期",width:120,search:{el:"date-picker",props:{placeholder:"请选择下次溯源日期",valueFormat:"YYYY-MM-DD"}}},{prop:"certificateNumber",label:"证书编号",width:120},{prop:"storageLocation",label:"存放地点",width:150,search:{el:"input",props:{placeholder:"请输入存放地点"}}},{prop:"responsiblePerson",label:"设备责任人",width:120,search:{el:"input",props:{placeholder:"请输入设备责任人"}}},{prop:"department",label:"使用部门",width:150,search:{el:"input",props:{placeholder:"请输入使用部门"}}},{prop:"classification",label:"分类情况",width:120,enum:[{label:"A类",value:"A类"},{label:"B类",value:"B类"},{label:"C类",value:"C类"}],search:{el:"select",props:{placeholder:"请选择分类情况",clearable:!0}}},{prop:"isImported",label:"是否进口设备",width:120,enum:[{label:"是",value:"是"},{label:"否",value:"否"}],search:{el:"select",props:{placeholder:"请选择是否进口",clearable:!0}}},{prop:"assetNumber",label:"资产编号",width:120},{prop:"supplierPhone",label:"供货商联系电话",width:150},{prop:"remarks",label:"备注",width:200},{prop:"operation",label:"操作",width:220,fixed:"right"}],B=s({}),E=t=>Promise.resolve(J(t.pageNum,t.pageSize)),N=t=>t,u=s(!1),f=s("add"),n=s(null),V=()=>{f.value="add",n.value=null,u.value=!0},Y=t=>{f.value="edit",n.value=t,u.value=!0},A=()=>{var t;u.value=!1,(t=m.value)==null||t.getTableList()},L=t=>{},R=t=>{T.confirm("是否确认删除选中的数据？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{C.success("删除成功")})},P=t=>{const e=t.runningStatus==="停用"?"启用":"停用";T.confirm(`是否确认${e}该设备？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{C.success(`${e}成功`)})},v=s(!1),b=s(!1),I=t=>{n.value=t,v.value=!0},U=t=>{n.value=t,b.value=!0},h=s(!1),q=t=>{n.value=t,h.value=!0},F=()=>{var t;C.success("设备已成功报废"),(t=m.value)==null||t.getTableList()},g=s(!1),z=t=>{n.value=t,g.value=!0},H=t=>{var e;(e=m.value)==null||e.getTableList()},O=t=>({正常:"success",维修中:"warning",报废:"danger",闲置:"info"})[t]||"success",Q=t=>({运行中:"success",停用:"danger",待机:"warning"})[t]||"success";return(t,e)=>{const c=te,W=oe,d=ne,Z=ie,j=ae,S=ee;return w(),K("div",be,[X("div",we,[o(G,{ref_key:"proTable",ref:m,columns:M,"request-api":E,"init-param":r(B),"data-callback":N},{tableHeader:a(l=>[o(c,{type:"primary",icon:r(se),onClick:V},{default:a(()=>e[5]||(e[5]=[i("新增设备")])),_:1},8,["icon"]),o(c,{type:"danger",icon:r(D),onClick:p=>R(l.selectedListIds)},{default:a(()=>e[6]||(e[6]=[i("删除")])),_:2},1032,["icon","onClick"])]),operation:a(l=>[o(c,{type:"primary",link:"",icon:r(le),onClick:p=>Y(l.row)},{default:a(()=>e[7]||(e[7]=[i("编辑")])),_:2},1032,["icon","onClick"]),o(c,{type:"danger",link:"",icon:r(D),onClick:p=>L(l.row)},{default:a(()=>e[8]||(e[8]=[i("删除")])),_:2},1032,["icon","onClick"]),o(j,{class:"text-sm pt-[2px] pl-[12px]"},{dropdown:a(()=>[o(Z,null,{default:a(()=>[o(d,{onClick:p=>P(l.row)},{default:a(()=>[i(k(l.row.runningStatus==="停用"?"启用":"停用"),1)]),_:2},1032,["onClick"]),o(d,{onClick:p=>z(l.row)},{default:a(()=>e[10]||(e[10]=[i("审核")])),_:2},1032,["onClick"]),o(d,{divided:"",onClick:p=>I(l.row)},{default:a(()=>e[11]||(e[11]=[i("使用记录")])),_:2},1032,["onClick"]),o(d,{onClick:p=>U(l.row)},{default:a(()=>e[12]||(e[12]=[i("维修记录")])),_:2},1032,["onClick"]),o(d,{divided:"",onClick:p=>q(l.row)},{default:a(()=>e[13]||(e[13]=[i("设备报废")])),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[o(c,{type:"primary",link:""},{default:a(()=>[e[9]||(e[9]=i(" 更多")),o(W,{class:"el-icon--right"},{default:a(()=>[o(r(re))]),_:1})]),_:1})]),_:2},1024)]),deviceStatus:a(l=>[o(S,{type:O(l.row.deviceStatus)},{default:a(()=>[i(k(l.row.deviceStatus),1)]),_:2},1032,["type"])]),runningStatus:a(l=>[o(S,{type:Q(l.row.runningStatus)},{default:a(()=>[i(k(l.row.runningStatus),1)]),_:2},1032,["type"])]),_:1},8,["init-param"])]),r(u)?(w(),_(pe,{key:0,type:r(f),row:r(n),onSuccess:A,onClose:e[0]||(e[0]=l=>u.value=!1)},null,8,["type","row"])):y("",!0),r(h)?(w(),_(ue,{key:1,device:r(n),onSuccess:F,onClose:e[1]||(e[1]=l=>h.value=!1)},null,8,["device"])):y("",!0),r(g)?(w(),_(ce,{key:2,device:r(n),onSuccess:H,onClose:e[2]||(e[2]=l=>g.value=!1)},null,8,["device"])):y("",!0),o(de,{visible:r(v),"onUpdate:visible":e[3]||(e[3]=l=>x(v)?v.value=l:null),device:r(n)},null,8,["visible","device"]),o(me,{visible:r(b),"onUpdate:visible":e[4]||(e[4]=l=>x(b)?b.value=l:null),device:r(n)},null,8,["visible","device"])])}}}),it=ve(he,[["__scopeId","data-v-9e717290"]]);export{it as default};
