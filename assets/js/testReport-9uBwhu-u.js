import{R as g}from"./index-yDSqlga2.js";import{m as y}from"./mock-Dosj8-Nv.js";const c=(t="2023-01-01",a="2024-05-31")=>{const e=new Date(t).getTime(),r=new Date(a).getTime(),n=e+Math.random()*(r-e),s=new Date(n),m=s.getFullYear(),i=String(s.getMonth()+1).padStart(2,"0"),o=String(s.getDate()).padStart(2,"0");return`${m}-${i}-${o}`},S=(t="2023-01-01",a="2024-05-31")=>{const e=c(t,a),r=String(Math.floor(Math.random()*24)).padStart(2,"0"),n=String(Math.floor(Math.random()*60)).padStart(2,"0"),s=String(Math.floor(Math.random()*60)).padStart(2,"0");return`${e} ${r}:${n}:${s}`},D=()=>{const t="RP",a=new Date,e=a.getFullYear(),r=String(a.getMonth()+1).padStart(2,"0"),n=String(Math.floor(Math.random()*1e4)).padStart(4,"0");return`${t}${e}${r}${n}`},T=()=>{const t=["金属材料","复合材料","高分子材料","陶瓷材料","混凝土"],a=["冲击试验","拉伸试验","压缩试验","弯曲试验","疲劳试验"],e=["GB/T 229","GB/T 228","ISO 148","ASTM E23","EN 10045"],r=t[Math.floor(Math.random()*t.length)],n=a[Math.floor(Math.random()*a.length)],s=e[Math.floor(Math.random()*e.length)];return`${r}${n}(${s})`},v=()=>{const t=["力学检测部","材料检测部","结构检测部","机械检测部","特种检测部"];return t[Math.floor(Math.random()*t.length)]},N=()=>{const t=["冲击实验室","拉伸实验室","万能试验机室","疲劳试验室","高温实验室","低温实验室"];return t[Math.floor(Math.random()*t.length)]},b=()=>{const t=["现金","转账","支票","信用卡","公司账户","预付款","按月结算","分期付款"];return t[Math.floor(Math.random()*t.length)]},d=()=>{const t=["张","李","王","赵","刘","陈","杨","黄","周","吴","郑","孙","马","朱","胡","林","郭","何","高","罗"],a=["明","华","强","伟","勇","军","杰","涛","超","刚","平","辉","健","磊","斌","波","宇","浩","凯","鹏"];return t[Math.floor(Math.random()*t.length)]+a[Math.floor(Math.random()*a.length)]},u=()=>{const t=["北京","上海","广州","深圳","成都","重庆","武汉","杭州","南京","西安"],a=["分站","检测站","工作站","服务点","办事处","中心站","实验室"];return t[Math.floor(Math.random()*t.length)]+a[Math.floor(Math.random()*a.length)]},M=()=>{const t=["北京市","上海市","广东省","江苏省","浙江省","四川省","湖北省","河南省","山东省","陕西省"],a=["朝阳区","浦东新区","广州市","南京市","杭州市","成都市","武汉市","郑州市","济南市","西安市"],e=["中山路","人民大道","解放路","建设路","和平路","长江路","黄河路","科技大道","工业园区","高新区"],r=["1号","2号","3号","88号","100号","101号","200号","666号","888号","999号"],n=t[Math.floor(Math.random()*t.length)],s=a[Math.floor(Math.random()*a.length)],m=e[Math.floor(Math.random()*e.length)],i=r[Math.floor(Math.random()*r.length)];return`${n}${s}${m}${i}`},L=()=>{const t=(73.66+Math.random()*61.390000000000015).toFixed(6),a=(3.86+Math.random()*(53.55-3.86)).toFixed(6);return{longitude:t,latitude:a}},C=()=>{const t="CM",a=new Date,e=a.getFullYear(),r=String(a.getMonth()+1).padStart(2,"0"),n=String(Math.floor(Math.random()*1e4)).padStart(4,"0");return`${t}${e}${r}${n}`},V=()=>{const t="SP",a=new Date,e=a.getFullYear().toString().substring(2),r=String(a.getMonth()+1).padStart(2,"0"),n=String(Math.floor(Math.random()*1e5)).padStart(5,"0");return`${t}${e}${r}${n}`},w=()=>{const t="MC",a=new Date,e=a.getFullYear().toString().substring(2),r=String(a.getMonth()+1).padStart(2,"0"),n=String(Math.floor(Math.random()*1e5)).padStart(5,"0");return`${t}${e}${r}${n}`},R=(t=10)=>{const a=[];for(let e=0;e<t*20;e++){const r=L(),n=Math.floor(Math.random()*3),s=T();a.push({id:e+1,reportNo:D(),commissionNo:C(),sampleNo:V(),materialCode:w(),sampleName:s.split("(")[0],reportName:s,testDepartment:v(),testLocation:N(),paymentMethod:b(),sampleCirculation:Math.random()>.5?"已流转":"未流转",testCategory:["常规检测","特殊检测","紧急检测","定期检测","抽样检测"][Math.floor(Math.random()*5)],sampleStatusDesc:["完好","轻微损坏","部分损坏","严重损坏","无法辨认"][Math.floor(Math.random()*5)],reportChangeFee:(Math.random()*1e3).toFixed(2),projectLocation:M(),standardPrice:(Math.random()*1e4).toFixed(2),otherFees:(Math.random()*500).toFixed(2),discountRate:(Math.random()*.5).toFixed(2),discountedTotalFee:(Math.random()*8e3).toFixed(2),feeDetails:"详见附件",unitQuantity:Math.floor(Math.random()*10)+1,pricingSettlementStatus:["未结算","部分结算","已结算"][Math.floor(Math.random()*3)],isOverdue:Math.random()>.8?"是":"否",specification:`${Math.floor(Math.random()*100)}mm×${Math.floor(Math.random()*100)}mm×${Math.floor(Math.random()*100)}mm`,manufacturer:["A公司","B集团","C实业","D材料","E科技"][Math.floor(Math.random()*5)],maintenanceConditions:["常温","低温","高温","高湿","低湿","常压","高压","低压"][Math.floor(Math.random()*8)],requiredTestCompletionDate:c(),testParameters:"详见技术文档",commissionReceiptDate:c(),commissionReceiver:d(),reportDistributionDate:c(),reportDistributor:d(),reportReceivingSite:u(),reportReceiptDate:c(),reportReceiver:d(),registrar:d(),registrationSite:u(),registrationTime:S(),commissionDistributionDate:c(),commissionDistributor:d(),commissionReceivingSite:u(),testStampPerson:d(),stampDate:c(),sampleCirculationStatus:["未流转","流转中","已完成"][Math.floor(Math.random()*3)],reportApprovalStatus:["未审批","审批中","已审批","已驳回"][Math.floor(Math.random()*4)],reportCirculationStatus:["未流转","流转中","已完成"][Math.floor(Math.random()*3)],reportPrintStatus:["未打印","已打印"][Math.floor(Math.random()*2)],printDate:c(),printer:d(),printCount:Math.floor(Math.random()*10),reportIssuanceStatus:["未发放","已发放"][Math.floor(Math.random()*2)],issuer:d(),issuanceDate:c(),reportAvailableDate:c(),reportChangeCount:Math.floor(Math.random()*5),archiver:d(),archiveDate:c(),witnessSampling:Math.random()>.5?"是":"否",witnessSamplingStatus:["未开始","进行中","已完成","已取消"][Math.floor(Math.random()*4)],witnessQrCodeValue:y.Random.guid(),witnessLongitude:r.longitude,witnessLatitude:r.latitude,witnessAddress:M(),witnessPhoto:"photo_url.jpg",status:n})}return a},x=async t=>{const a=R(20);let e=[...a];if(t){if(t.id){const o=a.find(p=>p.id===Number(t.id));return{code:g.SUCCESS,data:{list:o?[o]:[],pageNum:1,pageSize:1,total:o?1:0},msg:"获取成功"}}if(t.reportNo&&(e=e.filter(o=>o.reportNo.toLowerCase().includes(t.reportNo.toLowerCase()))),t.reportName&&(e=e.filter(o=>o.reportName.toLowerCase().includes(t.reportName.toLowerCase()))),t.testDepartment&&(e=e.filter(o=>o.testDepartment.toLowerCase().includes(t.testDepartment.toLowerCase()))),t.status!==void 0&&t.status!==null&&t.status!==""&&(e=e.filter(o=>o.status===Number(t.status))),t.reportDistributionDate&&Array.isArray(t.reportDistributionDate)&&t.reportDistributionDate.length===2){const o=new Date(t.reportDistributionDate[0]).getTime(),p=new Date(t.reportDistributionDate[1]).getTime();e=e.filter(f=>{const h=new Date(f.reportDistributionDate).getTime();return h>=o&&h<=p})}}const r=t.pageNum||1,n=t.pageSize||10,s=(r-1)*n,m=r*n,i=e.slice(s,m);return await new Promise(o=>setTimeout(o,300)),{code:g.SUCCESS,data:{list:i,pageNum:r,pageSize:n,total:e.length},msg:"获取成功"}},A=()=>[{sampleNo:"IC-001",testTime:"2024-05-10 10:15:30",temperature:"23",width:"10.02",thickness:"10.05",notchDepth:"2.00",notchAngle:"45",impactEnergy:"120",impactStrength:"85.6",fractureType:"韧性断裂"},{sampleNo:"IC-002",testTime:"2024-05-10 10:30:45",temperature:"23",width:"10.03",thickness:"10.04",notchDepth:"2.01",notchAngle:"45",impactEnergy:"118",impactStrength:"84.3",fractureType:"韧性断裂"},{sampleNo:"IC-003",testTime:"2024-05-10 11:05:20",temperature:"-20",width:"10.01",thickness:"10.03",notchDepth:"2.00",notchAngle:"45",impactEnergy:"95",impactStrength:"67.9",fractureType:"混合断裂"},{sampleNo:"IC-004",testTime:"2024-05-10 11:25:10",temperature:"-40",width:"10.02",thickness:"10.02",notchDepth:"2.01",notchAngle:"45",impactEnergy:"62",impactStrength:"44.3",fractureType:"脆性断裂"}],F=()=>[{sampleNo:"TS-001",testTime:"2024-05-10 13:10:25",temperature:"23",gaugeLength:"50.00",diameter:"10.00",crossSection:"78.54",yieldLoad:"27.85",maxLoad:"40.05",yieldStrength:"355",tensileStrength:"510",elongation:"22"},{sampleNo:"TS-002",testTime:"2024-05-10 13:45:30",temperature:"23",gaugeLength:"50.00",diameter:"10.01",crossSection:"78.70",yieldLoad:"28.33",maxLoad:"40.53",yieldStrength:"360",tensileStrength:"515",elongation:"23"},{sampleNo:"TS-003",testTime:"2024-05-10 14:20:15",temperature:"100",gaugeLength:"50.00",diameter:"10.00",crossSection:"78.54",yieldLoad:"26.70",maxLoad:"38.88",yieldStrength:"340",tensileStrength:"495",elongation:"24"},{sampleNo:"TS-004",testTime:"2024-05-10 15:05:40",temperature:"200",gaugeLength:"50.00",diameter:"10.02",crossSection:"78.85",yieldLoad:"25.23",maxLoad:"37.06",yieldStrength:"320",tensileStrength:"470",elongation:"25"}],G=()=>[{fileName:"冲击试验原始数据.xlsx",fileSize:"256 KB",uploadTime:"2024-05-10 16:30:45",uploader:"张工"},{fileName:"拉伸试验原始数据.xlsx",fileSize:"312 KB",uploadTime:"2024-05-10 16:35:20",uploader:"李工"},{fileName:"冲击试验力-位移曲线.pdf",fileSize:"1.2 MB",uploadTime:"2024-05-10 16:40:10",uploader:"张工"},{fileName:"拉伸试验应力-应变曲线.pdf",fileSize:"1.5 MB",uploadTime:"2024-05-10 16:45:30",uploader:"李工"}],E=()=>[{name:"冲击试验机",model:"JB-300J",code:"DEV-2024-101",type:"力学试验设备",calibrationDate:"2024-02-15",calibrationValidDate:"2025-02-14",accuracyLevel:"0.5级",measureRange:"0-300J",manufacturer:"金属材料试验机厂",department:"材料检测部",status:"正常"},{name:"电子万能试验机",model:"WDW-100",code:"DEV-2024-102",type:"力学试验设备",calibrationDate:"2024-01-20",calibrationValidDate:"2025-01-19",accuracyLevel:"0.5级",measureRange:"0-100kN",manufacturer:"精密仪器有限公司",department:"材料检测部",status:"正常"},{name:"AGV智能搬运机器人",model:"AGV-500",code:"DEV-2024-103",type:"自动化设备",calibrationDate:"2024-03-05",calibrationValidDate:"2025-03-04",accuracyLevel:"±5mm",measureRange:"载重500kg",manufacturer:"智能机器人科技公司",department:"自动化检测部",status:"正常"},{name:"低温冲击试验机",model:"DWC-40",code:"DEV-2024-104",type:"力学试验设备",calibrationDate:"2024-04-10",calibrationValidDate:"2025-04-09",accuracyLevel:"1.0级",measureRange:"-40℃~RT, 0-150J",manufacturer:"低温设备制造厂",department:"材料检测部",status:"正常"},{name:"高温拉伸试验机",model:"RGM-4100",code:"DEV-2024-105",type:"力学试验设备",calibrationDate:"2024-03-15",calibrationValidDate:"2025-03-14",accuracyLevel:"0.5级",measureRange:"RT~1100℃, 0-100kN",manufacturer:"高温设备研究所",department:"材料检测部",status:"维修中"}],P=()=>({name:"冲击试验",code:"GB/T 229",category:"metal",venue:"mechanics",testDuration:7,overtimeReminder:3,status:"active",description:"金属材料夏比摆锤冲击试验，用于测定金属材料在冲击载荷下的韧性。",allowDataEntry:!0}),I=()=>[{code:"GB/T 228.1-2010",name:"金属材料 拉伸试验 第1部分：室温试验方法",version:"2010",status:"现行"}],B=()=>[{name:"抗拉强度",unit:"MPa",minValue:200,maxValue:"1200",defaultValue:400,precision:1,isRequired:!0,status:"active",remark:"测试温度20±2℃"},{name:"屈服强度",unit:"MPa",minValue:150,maxValue:"1000",defaultValue:350,precision:1,isRequired:!0,status:"active",remark:"测试速率5mm/min"},{name:"断后伸长率",unit:"%",minValue:5,maxValue:"50",defaultValue:25,precision:.5,isRequired:!0,status:"active",remark:"标距50mm"},{name:"断面收缩率",unit:"%",minValue:10,maxValue:"70",defaultValue:40,precision:.5,isRequired:!1,status:"active",remark:""}],q=()=>[{step:"报告打印",condition:"上一步骤完成后",type:"检测项目",days:1,daysType:"workday"},{step:"报告批准",condition:"上一步骤完成后",type:"检测项目",days:1,daysType:"workday"},{step:"报告审核",condition:"上一步骤完成后",type:"检测项目",days:1,daysType:"workday"},{step:"试验完成",condition:"委托登记后",type:"检测项目",days:2,daysType:"calendar"},{step:"试验开始",condition:"上一步骤完成后",type:"检测项目",days:1,daysType:"workday"},{step:"任务分配",condition:"上一步骤完成后",type:"检测项目",days:1,daysType:"workday"},{step:"样品流转",condition:"上一步骤完成后",type:"检测项目",days:1,daysType:"workday"},{step:"样品复核",condition:"上一步骤完成后",type:"检测项目",days:1,daysType:"workday"}],J=()=>[{id:1,index:1,processName:"样品登记",processLocation:"样品接收室",operator:"张三",operateTime:"2024-03-20 09:00:00",status:"已完成",remark:"样品接收并登记"},{id:2,index:2,processName:"AGV运输",processLocation:"AGV路线1",operator:"AGV-001",operateTime:"2024-03-20 09:30:00",status:"已完成",remark:"从样品接收室经A区通道到样品预处理室"},{id:3,index:3,processName:"样品预处理",processLocation:"样品预处理室",operator:"李四",operateTime:"2024-03-20 10:00:00",status:"已完成",remark:"样品切割、打磨"},{id:4,index:4,processName:"AGV运输",processLocation:"AGV路线2",operator:"AGV-002",operateTime:"2024-03-20 10:30:00",status:"已完成",remark:"从样品预处理室经B区通道到冲击试验室"},{id:5,index:5,processName:"冲击试验准备",processLocation:"冲击试验室",operator:"王五",operateTime:"2024-03-20 11:00:00",status:"已完成",remark:"样品安装、设备调试"},{id:6,index:6,processName:"冲击试验",processLocation:"冲击试验室",operator:"王五",operateTime:"2024-03-20 11:30:00",status:"已完成",remark:"完成冲击试验，记录数据"},{id:7,index:7,processName:"AGV运输",processLocation:"AGV路线3",operator:"AGV-003",operateTime:"2024-03-20 14:00:00",status:"已完成",remark:"从冲击试验室经C区通道到数据处理室"},{id:8,index:8,processName:"数据分析",processLocation:"数据处理室",operator:"赵六",operateTime:"2024-03-20 14:30:00",status:"已完成",remark:"分析冲击试验数据"},{id:9,index:9,processName:"AGV运输",processLocation:"AGV路线4",operator:"AGV-004",operateTime:"2024-03-20 15:00:00",status:"已完成",remark:"从数据处理室经D区通道到报告室"},{id:10,index:10,processName:"报告编制",processLocation:"报告室",operator:"钱七",operateTime:"2024-03-20 15:30:00",status:"已完成",remark:"编制试验报告"},{id:11,index:11,processName:"AGV运输",processLocation:"AGV路线5",operator:"AGV-005",operateTime:"2024-03-20 16:00:00",status:"已完成",remark:"从报告室经E区通道到样品库"},{id:12,index:12,processName:"样品入库",processLocation:"样品库",operator:"孙八",operateTime:"2024-03-20 16:30:00",status:"已完成",remark:"样品入库保存"}],z=()=>[{title:"委托审核流程",steps:l(["委托申请","委托审核","委托确认"],"委托审核流程")},{title:"数据审核流程",steps:l(["数据录入","数据初审","数据复核","数据确认"],"数据审核流程")},{title:"设备申请流程",steps:l(["设备申请","设备审批","设备分配","设备确认"],"设备申请流程")},{title:"样品退样流程",steps:l(["退样申请","退样审核","退样确认","退样完成"],"样品退样流程")},{title:"样品审核流程",steps:l(["样品接收","样品检查","样品审核","样品确认"],"样品审核流程")},{title:"报告审核流程",steps:l(["报告编制","报告初审","报告复核","报告批准"],"报告审核流程")}],H=()=>({standardInfo:"所检项目符合标准1234566666中F类Ⅰ级粉煤灰的技术要求。",unqualifiedParams:"氯离子含量：0.001%",status:"合格",environment:"温度：20℃；湿度：50%",recorder:"JSCL",recorderId:"",recorderCode:"",remarks:"备注信息"}),Y=()=>[{name:"温度",value:25,type:"number",precision:1,step:.1,min:-50,max:100,unit:"℃",standard:""},{name:"湿度",value:50,type:"number",precision:1,step:.1,min:0,max:100,unit:"%",standard:""},{name:"冲击吸收能量",value:0,type:"number",precision:2,step:.1,min:0,unit:"J",standard:""},{name:"冲击速度",value:0,type:"number",precision:2,step:.1,min:0,unit:"m/s",standard:""},{name:"峰值载荷",value:0,type:"number",precision:2,step:.1,min:0,unit:"kN",standard:""},{name:"破坏模式",value:"",type:"select",placeholder:"请选择破坏模式",options:[{label:"脆性断裂",value:"脆性断裂"},{label:"延性撕裂",value:"延性撕裂"},{label:"混合断裂",value:"混合断裂"},{label:"剪切断裂",value:"剪切断裂"}],unit:"",standard:""},{name:"断裂表面分析",value:"",type:"select",placeholder:"请选择断裂表面分析",options:[{label:"解理断裂",value:"解理断裂"},{label:"韧窝断裂",value:"韧窝断裂"},{label:"沿晶断裂",value:"沿晶断裂"},{label:"穿晶断裂",value:"穿晶断裂"}],unit:"",standard:""},{name:"应变率敏感性",value:"",type:"select",placeholder:"请选择应变率敏感性",options:[{label:"低",value:"低"},{label:"中",value:"中"},{label:"高",value:"高"}],unit:"",standard:""},{name:"测试日期",value:"",type:"date",placeholder:"请选择测试日期",unit:"",standard:""},{name:"操作人员",value:"",type:"input",placeholder:"请输入操作人员",unit:"",standard:""},{name:"备注",value:"",type:"input",placeholder:"请输入备注信息",unit:"",standard:""}],_=[{id:"540000201108192400",deviceCode:"DEV_00000001",deviceName:"或石江性八空设备",deviceStatus:"报废",runningStatus:"运行中",specification:"LD-438",testRange:"276.38~1675.68",accuracyRequirement:"±1.55",factoryNumber:"FN_72067353",quantity:2,manufacturer:"条收命极号验公司",purchasePrice:931182.04,purchaseDate:"2005-12-13",traceabilityMethod:"自校准",traceabilityUnit:"具斯军会没越水从计量院",traceabilityCycle:"20个月",nextTraceDate:"1985-03-08",certificateNumber:"CERT_3574536478",storageLocation:"盘锦市实验室",responsiblePerson:"赵军",department:"同性只相感部",classification:"A类",isImported:"否",assetNumber:"ASSET_90046698",supplierPhone:"14772394677",remarks:"具候非政传行切应海治可果水论。"}],j=()=>[{date:"2025-02-28",approver:"JSCL",approvalType:"试验员检查",approvalReport:"SH-FMH25-00001",reason:"重新试验",opinion:"退回委托修改",approvalTime:"2025-02-28 14:39"},{date:"2025-02-28",approver:"JSCL",approvalType:"试验员2复核",approvalReport:"SH-FMH25-00001",reason:"数据异常，不符合标准",opinion:"重新试验",approvalTime:"2025-02-28 10:53"},{date:"2025-02-28",approver:"JSCL",approvalType:"试验员1复核",approvalReport:"SH-FMH25-00001",reason:"数据异常",opinion:"数据检测",approvalTime:"2025-02-28 10:51"}],U=[{id:1,fileName:"测试报告.pdf",fileUrl:"http://example.com/test.pdf",remarks:"初始测试数据"}],O=()=>({sampleNo:"",status:"试验中",nextStatus:"待审核",testDepartment:"产品部",testLocation:"总部",projectLocation:"3333",testItems:"冲击试验"}),l=(t,a)=>{const e=["张三","李四","王五","赵六"],r={委托审核流程:["材料完整，符合要求","需要补充材料","材料审核通过"],数据审核流程:["数据准确，符合标准","数据需要复核","数据审核通过"],设备申请流程:["设备可用，申请通过","设备维护中，暂不可用","设备申请已批准"],样品退样流程:["样品状态完好，可退样","样品需要处理","退样申请已批准"],样品审核流程:["样品符合要求","样品需要处理","样品审核通过"],报告审核流程:["报告内容完整","报告需要修改","报告审核通过"]},s=Math.random()<.1?Math.random()<.9?1:0:-1;return t.map((m,i)=>{if(i>s&&s!==-1)return{stepName:m,auditor:"",auditTime:"",auditResult:"",auditComments:"",additionalInfo:{},status:"",type:"info"};const o=i===s;return{stepName:m,auditor:e[i%e.length],auditTime:`2024-01-${String(i+1).padStart(2,"0")} 10:00`,auditResult:o?"不通过":"通过",auditComments:o?"审核未通过，请修改后重新提交":r[a][i%r[a].length],additionalInfo:o?{处理人:e[i%e.length],处理时间:`2024-01-${String(i+1).padStart(2,"0")} 10:00`,失败原因:"不符合审核要求"}:{处理人:e[i%e.length],处理时间:`2024-01-${String(i+1).padStart(2,"0")} 10:00`,备注:`这是${a}的${m}步骤`},status:o?"failed":"success",type:o?"danger":"success"}})};export{H as a,Y as b,A as c,F as d,_ as e,G as f,z as g,J as h,O as i,j,P as k,I as l,B as m,q as n,U as o,E as p,x as q};
