import{_ as O}from"./index-DKovId2h.js";/* empty css             *//* empty css                  */import{_ as B}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BVglHUD0.js";/* empty css                 *//* empty css               *//* empty css                             */import{d as M,p as b,bf as G,bg as u,j as R,i as m,o as f,w as o,a as _,b as l,Z as T,h as j,f as I,e as r,t as n,u as t,aJ as L,g as P,D as W,B as Y,cs as F}from"./index-ClSyKtod.js";import{F as H}from"./formEnum-CT3LisML.js";const U=["innerHTML"],te=M({__name:"detail",setup(z,{expose:S}){const i=b(!1),d=G(),y=b(),v=d.getDictList(u.YES_NO,!0),g=b(!1),D=[{prop:"name",label:"姓名"},{prop:"read",label:"是否已读",enum:v}],a=R({opt:H.VIEW,record:{},disabled:!1});function V(){i.value=!1}function k(c){a.record.id,Object.assign(a,c),i.value=!0,c.record.id&&F.detail({id:c.record.id,showReceiveInfo:!0}).then(e=>{a.record=e.data,g.value=!0})}return S({onOpen:k}),(c,e)=>{const s=I,A=j,E=P,w=L,x=B,C=W,N=O;return f(),m(N,{modelValue:t(i),"onUpdate:modelValue":e[0]||(e[0]=p=>Y(i)?i.value=p:null),title:"站内信详情","form-size":"700px"},{footer:o(()=>[l(C,{type:"primary",onClick:V},{default:o(()=>e[3]||(e[3]=[r(" 确定 ")])),_:1})]),default:o(()=>[e[4]||(e[4]=_("h4",{class:"title"},"基本信息",-1)),l(A,{column:2,border:""},{default:o(()=>[l(s,{label:"主题","label-align":"left"},{default:o(()=>[r(n(t(a).record.subject),1)]),_:1}),l(s,{label:"消息类型","label-align":"left"},{default:o(()=>[r(n(t(d).dictTranslation(t(u).MESSAGE_CATEGORY,t(a).record.category)),1)]),_:1}),l(s,{label:"发送方式","label-align":"left"},{default:o(()=>[r(n(t(d).dictTranslation(t(u).MESSAGE_WAY,t(a).record.sendWay)),1)]),_:1}),l(s,{label:"创建时间","label-align":"left"},{default:o(()=>[r(n(t(a).record.createTime),1)]),_:1}),l(s,{label:"发送时间","label-align":"left"},{default:o(()=>[r(n(t(a).record.sendTime),1)]),_:1}),l(s,{label:"状态","label-align":"left"},{default:o(()=>[r(n(t(d).dictTranslation(t(u).MESSAGE_STATUS,t(a).record.status)),1)]),_:1})]),_:1}),e[5]||(e[5]=_("h4",{class:"title"},"正文:",-1)),_("div",{innerHTML:t(a).record.content},null,8,U),e[6]||(e[6]=_("h4",{class:"title"},"接收详情:",-1)),t(g)?(f(),m(x,{key:0,ref_key:"proTable",ref:y,title:"接收列表",class:"table",columns:D,pagination:!0,data:t(a).record.receiverDetail,"tool-button":!1},{read:o(p=>[l(w,{wrap:""},{default:o(()=>[p.row.read===!0?(f(),m(E,{key:0,type:"info"},{default:o(()=>e[1]||(e[1]=[r("是")])),_:1})):p.row.read===!1?(f(),m(E,{key:1,type:"danger"},{default:o(()=>e[2]||(e[2]=[r("否")])),_:1})):T("",!0)]),_:2},1024)]),_:1},8,["data"])):T("",!0)]),_:1},8,["modelValue"])}}});export{te as _};
