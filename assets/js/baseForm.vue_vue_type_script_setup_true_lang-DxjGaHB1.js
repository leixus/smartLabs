/* empty css             *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                  */import{_ as Q}from"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CkA160Xq.js";import{_ as b}from"./index.vue_vue_type_script_setup_true_name_SInput_lang-Byk8g2NW.js";import{d as S,p as T,j as f,Y as y,i as E,o as U,_ as V,u as t,w as n,b as r,$ as F,D as C,e as p,cF as N,cG as O}from"./index-ClSyKtod.js";const w=S({__name:"baseForm",props:{baseConfig:{type:Array,required:!0,default:()=>[]}},setup(A){const _=T(!1),i=T(),o=f({MQTT_PARAM_URL:"",MQTT_PARAM_USERNAME:"",MQTT_PARAM_PASSWORD:""}),M=A;y(()=>M.baseConfig,l=>{l.forEach(e=>{o[e.configKey]=e.configValue})});const d=f({MQTT_PARAM_URL:[{required:!0,message:"请输入MQTT服务端地址",trigger:"blur"}],MQTT_PARAM_USERNAME:[{required:!0,message:"请输入MQTT用户名",trigger:"blur"}],MQTT_PARAM_PASSWORD:[{required:!0,message:"请输入MQTT密码",trigger:"blur"}]});function R(){var l;(l=i.value)==null||l.validate(async e=>{if(!e)return;_.value=!0;const u=Object.entries(o).map(a=>({id:0,category:N.MQTT_POLICY,configKey:a[0],configValue:typeof a[1]=="object"?JSON.stringify(a[1]):String(a[1])}));O.configEditForm(u).finally(()=>{_.value=!1})})}function g(){var l;(l=i.value)==null||l.resetFields()}return(l,e)=>{const u=b,a=Q,m=C,c=F,P=V;return U(),E(P,{ref_key:"baseFormRef",ref:i,rules:t(d),model:t(o),"label-width":"auto","label-suffix":" :","label-position":"top"},{default:n(()=>[r(a,{label:"MQTT服务端地址",prop:"MQTT_PARAM_URL"},{default:n(()=>[r(u,{modelValue:t(o).MQTT_PARAM_URL,"onUpdate:modelValue":e[0]||(e[0]=s=>t(o).MQTT_PARAM_URL=s)},null,8,["modelValue"])]),_:1}),r(a,{label:"MQTT用户名",prop:"MQTT_PARAM_USERNAME"},{default:n(()=>[r(u,{modelValue:t(o).MQTT_PARAM_USERNAME,"onUpdate:modelValue":e[1]||(e[1]=s=>t(o).MQTT_PARAM_USERNAME=s)},null,8,["modelValue"])]),_:1}),r(a,{label:"MQTT密码",prop:"MQTT_PARAM_PASSWORD"},{default:n(()=>[r(u,{modelValue:t(o).MQTT_PARAM_PASSWORD,"onUpdate:modelValue":e[2]||(e[2]=s=>t(o).MQTT_PARAM_PASSWORD=s)},null,8,["modelValue"])]),_:1}),r(c,null,{default:n(()=>[r(m,{type:"primary",loading:t(_),onClick:e[3]||(e[3]=s=>R())},{default:n(()=>e[4]||(e[4]=[p("保存")])),_:1},8,["loading"]),r(m,{style:{"margin-left":"10px"},onClick:g},{default:n(()=>e[5]||(e[5]=[p("重置")])),_:1})]),_:1})]),_:1},8,["rules","model"])}}});export{w as _};
