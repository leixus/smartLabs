/* empty css             *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                       *//* empty css                    */import{d as A,p as n,q as V,Y as p,cz as i,c as v,o as B,b as _,bl as C,u as r,B as D}from"./index-ClSyKtod.js";const E={class:"w-full"},O=A({__name:"index",props:{menuValue:{},clearable:{type:Boolean,default:!0},placeholder:{default:"请选择菜单"},multiple:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!0},showAll:{type:Boolean,default:!1},menuTreeApi:{},menuTreeData:{default:[]},onlyCatalog:{type:Boolean,default:!1}},emits:["update:menuValue","change"],setup(f,{emit:m}){const l=f,s=n(),h={label:"title",value:"id"},y=n([0]);V(()=>{T()});const o=n([]),t=n(l.menuValue),c=m;p(()=>l.menuValue,e=>{t.value=e}),p(()=>l.menuTreeData,e=>{u(e)});function T(){l.menuTreeApi?l.menuTreeApi().then(e=>{u(e.data)}):u(l.menuTreeData)}function u(e){l.onlyCatalog&&e.forEach(a=>{d(a)}),l.showAll?o.value=[{id:0,parentId:0,title:"顶级",disabled:!1,menuType:i.CATALOG,children:e}]:o.value=e}function d(e){e.menuType!=i.CATALOG&&(e.disabled=!0),e.children&&e.children.length>0&&e.children.forEach(a=>{d(a)})}function b(e){t.value=e,c("update:menuValue",e),c("change",s.value.getCurrentNode().path)}return(e,a)=>{const k=C;return B(),v("div",E,[_(k,{ref_key:"treeRef",ref:s,modelValue:r(t),"onUpdate:modelValue":a[0]||(a[0]=g=>D(t)?t.value=g:null),class:"w-full","node-key":"id",multiple:e.multiple,"check-strictly":e.checkStrictly,placeholder:e.placeholder,data:r(o),clearable:e.clearable,props:h,"render-after-expand":!1,"default-expanded-keys":r(y),onChange:b},null,8,["modelValue","multiple","check-strictly","placeholder","data","clearable","default-expanded-keys"])])}}});export{O as _};
