/* empty css             *//* empty css                             *//* empty css               *//* empty css                  *//* empty css                 *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  */import{_ as U}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-dQS8jH7J.js";import{d as V,p as D,X as B,j as P,c as m,o as d,a as e,b as r,D as $,w as n,e as p,g as R,t as l,bm as A,F as g,r as f,aF as F,h as I,f as S,i as L}from"./index-yDSqlga2.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                 *//* empty css                    *//* empty css                 *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                   *//* empty css                  */import"./sortable.esm-C83syoBY.js";const M={class:"section-container"},X={class:"section-card"},q={class:"section-header"},G={class:"section-content aw-card"},H={class:"section-card"},J={class:"section-content"},K={class:"impact-analysis"},O={class:"gantt-chart"},Q={class:"gantt-container"},W={class:"gantt-header"},Y={class:"gantt-timeline"},Z={class:"gantt-body"},tt={class:"gantt-task-info"},et={class:"gantt-timeline"},st={class:"impact-summary"},at=V({__name:"index",setup(it){const o=D([{taskName:"冲击试验A批次",type:"冲击试验",priority:8,startDay:1,endDay:4},{taskName:"拉伸试验B批次",type:"拉伸试验",priority:5,startDay:3,endDay:7},{taskName:"冲击试验C批次",type:"冲击试验",priority:3,startDay:5,endDay:9}]),k=D([{prop:"taskName",label:"任务名称"},{prop:"type",label:"任务类型"},{prop:"priority",label:"优先级"},{prop:"urgency",label:"紧急程度"}]),C=B(()=>[...o.value].sort((a,t)=>t.priority-a.priority)),x=a=>{const t=new Date;return t.setDate(t.getDate()+a-1),`${t.getMonth()+1}/${t.getDate()}`},b=a=>a>=8?"#F56C6C":a>=5?"#E6A23C":"#909399",T=a=>{w();const t=o.value.findIndex(y=>y.taskName===a.taskName);t!==-1&&(a.priority>=8?(o.value[t].startDay=1,o.value[t].endDay=4):a.priority>=5?(o.value[t].startDay=3,o.value[t].endDay=7):(o.value[t].startDay=5,o.value[t].endDay=9))},v=a=>a>=8?"danger":a>=5?"warning":"info",h=a=>a>=8?"高":a>=5?"中":"低",N=()=>{o.value},i=P({completionTimeChange:"提前2天",resourceUtilization:85,affectedTasksCount:3,potentialRisks:[{text:"设备负载增加",type:"warning"},{text:"人员工作强度提高",type:"info"}]}),w=()=>{const a=o.value.filter(t=>t.priority>=8).length;a>=2?(i.completionTimeChange="提前3天",i.resourceUtilization=95,i.potentialRisks=[{text:"设备负载过高",type:"danger"},{text:"人员工作强度过高",type:"warning"}]):a===1?(i.completionTimeChange="提前2天",i.resourceUtilization=85,i.potentialRisks=[{text:"设备负载增加",type:"warning"},{text:"人员工作强度提高",type:"info"}]):(i.completionTimeChange="按计划完成",i.resourceUtilization=70,i.potentialRisks=[{text:"资源利用率适中",type:"success"}])};return(a,t)=>{const y=$,z=A,_=R,u=S,E=I;return d(),m("div",M,[e("div",X,[e("div",q,[t[1]||(t[1]=e("h3",null,"任务优先级设置",-1)),r(y,{type:"primary",onClick:N},{default:n(()=>t[0]||(t[0]=[p("保存设置")])),_:1})]),e("div",G,[r(U,{data:o.value,columns:k.value,pagination:!1,"tool-button":!1},{priority:n(({row:s})=>[r(z,{modelValue:s.priority,"onUpdate:modelValue":c=>s.priority=c,step:1,min:1,max:10,marks:{1:"低",5:"中",10:"高"},onChange:c=>T(s)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),urgency:n(({row:s})=>[r(_,{type:v(s.priority)},{default:n(()=>[p(l(h(s.priority)),1)]),_:2},1032,["type"])]),_:1},8,["data","columns"])])]),e("div",H,[t[5]||(t[5]=e("div",{class:"section-header"},[e("h3",null,"优先级调整影响分析")],-1)),e("div",J,[e("div",K,[e("div",O,[t[3]||(t[3]=e("h4",null,"调整后的任务排程",-1)),e("div",Q,[e("div",W,[t[2]||(t[2]=e("div",{class:"gantt-task-info"},"任务名称",-1)),e("div",Y,[(d(),m(g,null,f(10,s=>e("div",{key:s,class:"gantt-day"},l(x(s)),1)),64))])]),e("div",Z,[(d(!0),m(g,null,f(C.value,(s,c)=>(d(),m("div",{key:c,class:"gantt-row"},[e("div",tt,[e("span",null,l(s.taskName),1),r(_,{size:"small",type:v(s.priority),class:"priority-tag"},{default:n(()=>[p(l(h(s.priority)),1)]),_:2},1032,["type"])]),e("div",et,[e("div",{class:"gantt-bar",style:F({left:`${s.startDay*10}%`,width:`${(s.endDay-s.startDay)*10}%`,backgroundColor:b(s.priority)})},l(s.taskName),5)])]))),128))])])]),e("div",st,[t[4]||(t[4]=e("h4",null,"影响分析",-1)),r(E,{border:""},{default:n(()=>[r(u,{label:"完成时间变化"},{default:n(()=>[p(l(i.completionTimeChange),1)]),_:1}),r(u,{label:"资源利用率"},{default:n(()=>[p(l(i.resourceUtilization)+"%",1)]),_:1}),r(u,{label:"受影响任务数"},{default:n(()=>[p(l(i.affectedTasksCount),1)]),_:1}),r(u,{label:"潜在风险"},{default:n(()=>[(d(!0),m(g,null,f(i.potentialRisks,(s,c)=>(d(),L(_,{key:c,type:s.type,class:"risk-tag"},{default:n(()=>[p(l(s.text),1)]),_:2},1032,["type"]))),128))]),_:1})]),_:1})])])])])])}}}),Et=j(at,[["__scopeId","data-v-a0492d6a"]]);export{Et as default};
