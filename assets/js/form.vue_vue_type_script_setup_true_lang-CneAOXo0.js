import{_ as A}from"./index-DKovId2h.js";/* empty css             *//* empty css                  *//* empty css                *//* empty css                  *//* empty css                 *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  */import{_ as T}from"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-CjHYIDxt.js";import{_ as $}from"./index.vue_vue_type_script_setup_true_name_SInput_lang-Byk8g2NW.js";import{_ as B}from"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CkA160Xq.js";import{_ as N}from"./index.vue_vue_type_script_setup_true_name_OrgSelector_lang-ONhJMdgU.js";import{d as R,p as g,bf as q,bg as v,j as y,c as P,o as j,b as r,u as t,B as L,w as a,_ as M,bm as z,aH as G,D as H,e as C,aI as Y,bD as D}from"./index-ClSyKtod.js";import{F as O}from"./formEnum-CT3LisML.js";import{r as i}from"./formRules-BdD8zfEi.js";const mo=R({__name:"form",setup(J,{expose:S}){const d=g(!1),u=q(),m=u.getDictList(v.POSITION_CATEGORY),p=u.getDictList(v.COMMON_STATUS),o=y({opt:O.ADD,record:{},disabled:!1}),w=y({parentId:[i("请选择所属组织")],name:[i("请输入职位名称")],orgId:[i("请选择所属职位")],category:[i("请选择职位类型")],status:[i("请选择状态")]});function I(s){Object.assign(o,s),s.opt==O.ADD&&(o.record.sortCode=99,o.record.category=m[0].value,o.record.status=p[0].value),d.value=!0,s.record.id&&D.detail({id:s.record.id}).then(e=>{o.record=e.data})}const c=g();async function U(){var s;(s=c.value)==null||s.validate(async e=>{e&&await D.submitForm(o.record,o.record.id!=null).then(()=>{o.successful()}).finally(()=>{f()})})}function f(){d.value=!1}return S({onOpen:I}),(s,e)=>{const k=N,n=B,_=$,b=T,x=z,E=M,V=H,F=A;return j(),P("div",null,[r(F,{modelValue:t(d),"onUpdate:modelValue":e[6]||(e[6]=l=>L(d)?d.value=l:null),title:`${t(o).opt}职位`,"form-size":"600px"},{footer:a(()=>[r(V,{onClick:f},{default:a(()=>e[7]||(e[7]=[C(" 取消 ")])),_:1}),G(r(V,{type:"primary",onClick:U},{default:a(()=>e[8]||(e[8]=[C(" 确定 ")])),_:1},512),[[Y,!t(o).disabled]])]),default:a(()=>[r(E,{ref_key:"positionFormRef",ref:c,rules:t(w),disabled:t(o).disabled,model:t(o).record,"hide-required-asterisk":t(o).disabled,"label-width":"auto","label-suffix":" :"},{default:a(()=>[r(n,{label:"所属组织",prop:"orgId"},{default:a(()=>[r(k,{"org-value":t(o).record.orgId,"onUpdate:orgValue":e[0]||(e[0]=l=>t(o).record.orgId=l),"show-all":!1},null,8,["org-value"])]),_:1}),r(n,{label:"职位名称",prop:"name"},{default:a(()=>[r(_,{modelValue:t(o).record.name,"onUpdate:modelValue":e[1]||(e[1]=l=>t(o).record.name=l)},null,8,["modelValue"])]),_:1}),r(n,{label:"职位编码",prop:"code"},{default:a(()=>[r(_,{modelValue:t(o).record.code,"onUpdate:modelValue":e[2]||(e[2]=l=>t(o).record.code=l),placeholder:"请填写职位编码,不填则为随机值"},null,8,["modelValue"])]),_:1}),r(n,{label:"职位分类",prop:"category"},{default:a(()=>[r(b,{modelValue:t(o).record.category,"onUpdate:modelValue":e[3]||(e[3]=l=>t(o).record.category=l),options:t(m),button:""},null,8,["modelValue","options"])]),_:1}),r(n,{label:"状态",prop:"status"},{default:a(()=>[r(b,{modelValue:t(o).record.status,"onUpdate:modelValue":e[4]||(e[4]=l=>t(o).record.status=l),options:t(p),button:""},null,8,["modelValue","options"])]),_:1}),r(n,{label:"排序",prop:"sortCode"},{default:a(()=>[r(x,{modelValue:t(o).record.sortCode,"onUpdate:modelValue":e[5]||(e[5]=l=>t(o).record.sortCode=l),"show-input":"",min:1},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","disabled","model","hide-required-asterisk"])]),_:1},8,["modelValue","title"])])}}});export{mo as _};
