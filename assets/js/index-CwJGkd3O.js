/* empty css             *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                *//* empty css                 */import"./el-form-item-l0sNRNKZ.js";/* empty css                       *//* empty css                 *//* empty css               *//* empty css                *//* empty css                  */import{d as w,p as _,j as k,Y as E,i as y,o as f,w as t,a,b as o,ah as G,c as K,F as L,r as M,ai as Y,Z,aj as $,e as i,t as u,g as H,_ as J,$ as O,ak as P,al as Q,K as W,D as X,ab as ee,V as te}from"./index-Djyl84eR.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";const oe={class:"audit-content"},se={class:"progress-section"},le={class:"current-audit-info"},ie={class:"info-header"},ne={class:"step-title"},re={class:"step-time"},de={class:"info-content"},ue={class:"auditor-info"},me={class:"status-info"},pe={class:"dialog-footer"},ce=w({name:"AuditDialog"}),_e=w({...ce,props:{modelValue:{type:Boolean,default:!1},title:{default:"委托审核"},rowData:{}},emits:["update:modelValue","success"],setup(D,{emit:S}){const x=D,v=S,n=_(!1),m=_(),B=[{title:"提交申请",description:"2024-03-18 10:00",auditor:{name:"张三",avatar:""}},{title:"部门审核",description:"2024-03-18 11:00",auditor:{name:"李四",avatar:""}},{title:"主管审核",description:"待审核",auditor:{name:"王五",avatar:""}},{title:"完成",description:"",auditor:null}],C=_(2),r=k({title:"主管审核",time:"2024-03-18",auditor:{name:"王五",avatar:""},status:"pending"}),d=k({result:!0,remarks:""}),F={remarks:[{required:!0,message:"请输入审核意见",trigger:"blur"}]};E(()=>x.modelValue,s=>{n.value=s}),E(()=>n.value,s=>{v("update:modelValue",s)});const c=()=>{var s;n.value=!1,(s=m.value)==null||s.resetFields()},R=async()=>{m.value&&await m.value.validate((s,e)=>{s?(te.success("审核提交成功"),v("success"),c()):console.error("表单校验失败:",e)})};return(s,e)=>{const I=$,N=Y,A=G,U=H,g=Q,h=P,V=O,j=W,T=J,b=X,q=ee;return f(),y(q,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=p=>n.value=p),title:s.title,width:"70%","destroy-on-close":!0,onClose:c},{footer:t(()=>[a("div",pe,[o(b,{onClick:c},{default:t(()=>e[7]||(e[7]=[i("取消")])),_:1}),o(b,{type:"primary",onClick:R},{default:t(()=>e[8]||(e[8]=[i("提交")])),_:1})])]),default:t(()=>{var p;return[a("div",oe,[a("div",se,[o(A,{active:C.value,"finish-status":"success","align-center":""},{default:t(()=>[(f(),K(L,null,M(B,(l,z)=>o(N,{key:z,title:l.title,description:l.description},{icon:t(()=>[l.auditor?(f(),y(I,{key:0,size:24,src:l.auditor.avatar},{default:t(()=>[i(u(l.auditor.name.substring(0,1)),1)]),_:2},1032,["src"])):Z("",!0)]),_:2},1032,["title","description"])),64))]),_:1},8,["active"])]),a("div",le,[a("div",ie,[a("span",ne,u(r.title),1),a("span",re,u(r.time),1)]),a("div",de,[a("div",ue,[e[3]||(e[3]=a("span",{class:"label"},"审核人：",-1)),a("span",null,u((p=r.auditor)==null?void 0:p.name),1)]),a("div",me,[e[4]||(e[4]=a("span",{class:"label"},"状态：",-1)),o(U,{type:r.status==="pending"?"warning":"success"},{default:t(()=>[i(u(r.status==="pending"?"待审核":"已审核"),1)]),_:1},8,["type"])])])]),o(T,{ref_key:"formRef",ref:m,model:d,rules:F,"label-width":"100px",class:"audit-form"},{default:t(()=>[o(V,{label:"审核结果",prop:"result"},{default:t(()=>[o(h,{modelValue:d.result,"onUpdate:modelValue":e[0]||(e[0]=l=>d.result=l)},{default:t(()=>[o(g,{value:!0,label:"通过"},{default:t(()=>e[5]||(e[5]=[i("通过")])),_:1}),o(g,{value:!1,label:"不通过"},{default:t(()=>e[6]||(e[6]=[i("不通过")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(V,{label:"审核意见",prop:"remarks"},{default:t(()=>[o(j,{modelValue:d.remarks,"onUpdate:modelValue":e[1]||(e[1]=l=>d.remarks=l),type:"textarea",rows:4,placeholder:"请输入审核意见"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]}),_:1},8,["modelValue","title"])}}}),Fe=ae(_e,[["__scopeId","data-v-144a8e4f"]]);export{Fe as default};
