/* empty css             *//* empty css                  *//* empty css                   */import{T as w}from"./index-RUkZHeQt.js";/* empty css                 *//* empty css                  */import{_ as A}from"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-CjHYIDxt.js";/* empty css                 */import{d as P,p as f,X as q,bz as p,c as _,o as c,b as s,aJ as z,w as l,Z as G,u as o,B as y,i as U,bA as J,a as X,t as C,D as Z,e as v,ab as $,bh as j}from"./index-ClSyKtod.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                     *//* empty css                        *//* empty css                  *//* empty css                         *//* empty css                 *//* empty css                       *//* empty css                 *//* empty css                        */const K={class:"mb-5"},M={key:1},Q={key:0},W=P({__name:"dataScopeSelector",props:{modelValue:{}},emits:["update:modelValue"],setup(E,{emit:V}){const n=f(!1),b=V,k=E,t=q({get:()=>k.modelValue??g[0],set:a=>b("update:modelValue",a)}),g=p.dataScopeOptions.filter(a=>a.scopeCategory!==p.DataScopeEnum.SCOPE_ALL),u=f(t.value.level),S=p.dataScopeOptions.find(a=>a.scopeCategory===p.DataScopeEnum.SCOPE_ORG_DEFINE),O=f(t.value.scopeDefineOrgIdList);function I(a){let e=p.dataScopeOptions.find(d=>d.level===a);e&&(t.value=e)}function L(){n.value=!0,t.value}function B(a){O.value=a}function x(){n.value=!1}function F(){n.value=!1,t.value.scopeDefineOrgIdList=O.value,t.value}return(a,e)=>{const d=J,N=A,m=Z,h=z,T=w,R=$;return c(),_("div",null,[s(h,null,{default:l(()=>{var r;return[s(N,{modelValue:o(u),"onUpdate:modelValue":e[0]||(e[0]=i=>y(u)?u.value=i:null),options:o(g),value:"level",label:"title",onChange:I},{radio:l(({item:i})=>{var D;return[o(t).level===((D=o(S))==null?void 0:D.level)&&i.scopeCategory===o(p).DataScopeEnum.SCOPE_ORG_DEFINE&&i.scopeDefineOrgIdList?(c(),U(d,{key:0,value:o(t).scopeDefineOrgIdList.length,type:"success"},{default:l(()=>[X("span",K,C(i.title),1)]),_:2},1032,["value"])):(c(),_("span",M,C(i.title),1))]}),_:1},8,["modelValue","options"]),o(t).level===((r=o(S))==null?void 0:r.level)?(c(),_("div",Q,[s(m,{link:"",type:"primary",class:"ml-15px",onClick:L},{default:l(()=>e[2]||(e[2]=[v("选择机构")])),_:1})])):G("",!0)]}),_:1}),s(R,{modelValue:o(n),"onUpdate:modelValue":e[1]||(e[1]=r=>y(n)?n.value=r:null),"append-to-body":"",title:"选择机构",width:"400","destroy-on-close":""},{footer:l(()=>[s(m,{onClick:x},{default:l(()=>e[3]||(e[3]=[v("取消")])),_:1}),s(m,{type:"primary",onClick:F},{default:l(()=>e[4]||(e[4]=[v(" 确定 ")])),_:1})]),default:l(()=>[s(T,{title:"机构列表",multiple:"","check-strictly":"",class:"treeFilter",label:"name","request-api":o(j).tree,"default-value":o(t).scopeDefineOrgIdList,onChange:B},null,8,["request-api","default-value"])]),_:1},8,["modelValue"])])}}}),ge=H(W,[["__scopeId","data-v-10f2228f"]]);export{ge as default};
