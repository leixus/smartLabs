import{_ as A}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BVglHUD0.js";/* empty css             *//* empty css               */import{_ as L,u as R}from"./useHandleData-BKFp7A2O.js";import{d as S,bf as F,bg as c,p as u,j as M,c as B,o as _,b as i,a as q,u as e,bk as b,w as n,i as v,bv as U,g as V,e as T,t as D,bw as G}from"./index-ClSyKtod.js";import{F as s}from"./formEnum-CT3LisML.js";import{T as H}from"./index-RUkZHeQt.js";import{_ as P}from"./form.vue_vue_type_script_setup_true_lang-BtG-B6Zf.js";import{_ as j}from"./copy.vue_vue_type_script_setup_true_lang-4i1XXvrO.js";/* empty css                 *//* empty css                    *//* empty css                 *//* empty css                  *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                   *//* empty css                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-C83syoBY.js";/* empty css                        *//* empty css                         */import"./index-B64TivR-.js";import"./index-DKovId2h.js";/* empty css                  *//* empty css               *//* empty css                */import"./el-tab-pane-l0sNRNKZ.js";/* empty css                  *//* empty css                        */import"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-CjHYIDxt.js";/* empty css                       *//* empty css                        */import"./index.vue_vue_type_script_setup_true_name_SInput_lang-Byk8g2NW.js";import"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CkA160Xq.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_name_SvgIcon_lang-DLoTdZhV.js";import"./index.vue_vue_type_script_setup_true_name_OrgSelector_lang-ONhJMdgU.js";/* empty css                       */import"./formRules-BdD8zfEi.js";const Y={class:"main-box"},z={class:"table-box"},J=S({name:"sysOrg"}),Ge=S({...J,setup(K){const l=F(),h=l.getDictList(c.ORG_CATEGORY),w=l.getDictList(c.COMMON_STATUS),k=u(null),p=M({parentId:0}),f=u(),x=[{type:"selection",fixed:"left",width:50},{prop:"name",label:"组织名称",search:{el:"input"}},{prop:"names",label:"组织全称"},{prop:"category",label:"分类",enum:h,search:{el:"tree-select"}},{prop:"code",label:"编码",search:{el:"input"}},{prop:"status",label:"状态",enum:w,search:{el:"tree-select"}},{prop:"sortCode",label:"排序"},{prop:"createTime",label:"创建时间"},{prop:"operation",label:"操作",width:180,fixed:"right"}];function $(o){f.value.pageable.pageNum=1,o!=""?p.parentId=o:p.parentId=0}const y=u(null);function g(o,t={}){var a;(a=y.value)==null||a.onOpen({opt:o,record:t,successful:d})}const C=u(null);function I(o){var t;(t=C.value)==null||t.onOpen(o,d)}async function O(o,t){await R(b.delete,{ids:o},t),d()}function d(){var o,t;(o=f.value)==null||o.refresh(),(t=k.value)==null||t.refresh()}return(o,t)=>{const a=L,E=V,N=A;return _(),B("div",Y,[i(H,{ref_key:"treeFilter",ref:k,label:"name",title:"组织列表","request-api":e(b).tree,"default-value":e(p).parentId,onChange:$},null,8,["request-api","default-value"]),q("div",z,[i(N,{ref_key:"proTable",ref:f,title:"组织列表",columns:x,"request-api":e(b).page,"init-param":e(p)},{tableHeader:n(r=>[i(a,{suffix:"组织",onClick:t[0]||(t[0]=m=>g(e(s).ADD))}),i(a,{disabled:!r.isSelected,icon:e(G),onClick:m=>I(r.selectedListIds)},{default:n(()=>t[1]||(t[1]=[T("复制组织")])),_:2},1032,["disabled","icon","onClick"]),i(a,{type:"danger",plain:"",suffix:"组织",opt:e(s).DELETE,disabled:!r.isSelected,onClick:m=>O(r.selectedListIds,"删除所选组织")},null,8,["opt","disabled","onClick"])]),status:n(r=>[r.row.status===e(U).ENABLE?(_(),v(E,{key:0,type:"success"},{default:n(()=>[T(D(e(l).dictTranslation(e(c).COMMON_STATUS,r.row.status)),1)]),_:2},1024)):(_(),v(E,{key:1,type:"danger"},{default:n(()=>[T(D(e(l).dictTranslation(e(c).COMMON_STATUS,r.row.status)),1)]),_:2},1024))]),operation:n(r=>[i(a,{link:"",opt:e(s).EDIT,onClick:m=>g(e(s).EDIT,r.row)},null,8,["opt","onClick"]),i(a,{link:"",opt:e(s).DELETE,onClick:m=>O([r.row.id],`删除【${r.row.name}】组织`)},null,8,["opt","onClick"])]),_:1},8,["request-api","init-param"]),i(P,{ref_key:"formRef",ref:y},null,512),i(j,{ref_key:"copyRef",ref:C},null,512)])])}}});export{Ge as default};
