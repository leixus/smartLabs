import{_ as W}from"./index-BhKoq_Rb.js";/* empty css             *//* empty css                  *//* empty css                *//* empty css               *//* empty css                  *//* empty css                 *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  */import{_ as X}from"./index.vue_vue_type_script_setup_true_name_MenuSelector_lang-Ag--xU1K.js";import{_ as Z}from"./index-CZ1cK_Zp.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-DRblrf2T.js";import{_ as J}from"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CMD2z1PW.js";import{_ as Q}from"./index.vue_vue_type_script_setup_true_name_SInput_lang-C8CF6EG3.js";/* empty css                   */import{d as h,p as T,bf as ee,bg as k,cz as b,j as N,X as E,i as oe,o as v,w as r,b as t,_ as le,u as e,c as S,Z as C,bW as te,e as m,cy as w,bm as ne,I as re,y as de,aH as ie,D as se,aI as ae,B as ue}from"./index-yDSqlga2.js";import{r as s}from"./formRules-BdD8zfEi.js";import{F as O}from"./formEnum-CT3LisML.js";const pe={key:0},me={key:1},fe={key:2},Oe=h({__name:"form",setup(ce,{expose:H}){const f=T(!1),y=ee(),L=y.getDictList(k.MENU_TYPE).filter(i=>i.value!==b.BUTTON),c=y.getDictList(k.YES_NO,!0),D=y.getDictList(k.COMMON_STATUS),x=T(0),o=N({opt:O.ADD,record:{},disabled:!1}),B=N({title:[s("请输入菜单名称")],parentId:[s("请选择上级菜单")],menuType:[s("请选择菜单类型")],path:[s("请输入路由地址")],name:[s("请输入组件名称")],component:[s("请输入组件地址")],sortCode:[s("请输入排序")],icon:[s("请选择图标")],status:[s("请选择状态")],isLink:[s("请输入链接地址")]}),A=E(()=>o.record.menuType===b.MENU),a=E(()=>o.record.menuType===b.LINK),U=E(()=>o.record.menuType===b.SUBSET);function I(i,l){Object.assign(o,i),i.opt==O.ADD&&(o.record.sortCode=99,o.record.status=D[0].value,o.record.menuType=b.MENU,o.record.sortCode=99,o.record.isHome=!1,o.record.isHide=!1,o.record.isFull=!1,o.record.isAffix=!1,o.record.isKeepAlive=!0,o.record.module=l),x.value=l,f.value=!0,i.record.id&&w.detail({id:i.record.id}).then(V=>{o.record=V.data})}const g=T();async function K(){var i;(i=g.value)==null||i.validate(async l=>{l&&await w.submitForm(o.record,o.record.id!=null).then(()=>{o.successful()}).finally(()=>{F()})})}function F(){f.value=!1}function $(i){U.value&&(i=i+"/:id",o.record.activeMenu=i),o.record.path=i}return H({onOpen:I}),(i,l)=>{const V=te,p=Q,d=J,u=G,R=Z,q=X,P=ne,_=de,j=re,z=le,M=se,Y=W;return v(),oe(Y,{modelValue:e(f),"onUpdate:modelValue":l[16]||(l[16]=n=>ue(f)?f.value=n:null),title:`${e(o).opt}菜单`,"form-size":"600px"},{footer:r(()=>[t(M,{onClick:F},{default:r(()=>l[21]||(l[21]=[m(" 取消 ")])),_:1}),ie(t(M,{type:"primary",onClick:K},{default:r(()=>l[22]||(l[22]=[m(" 确定 ")])),_:1},512),[[ae,!e(o).disabled]])]),default:r(()=>[t(z,{ref_key:"menuFormRef",ref:g,rules:e(B),disabled:e(o).disabled,model:e(o).record,"hide-required-asterisk":e(o).disabled,"label-width":"auto","label-suffix":" :"},{default:r(()=>[t(V,{"content-position":"left"},{default:r(()=>l[17]||(l[17]=[m("基本设置")])),_:1}),t(d,{label:"菜单名称",prop:"title"},{default:r(()=>[t(p,{modelValue:e(o).record.title,"onUpdate:modelValue":l[0]||(l[0]=n=>e(o).record.title=n)},null,8,["modelValue"])]),_:1}),t(d,{label:"菜单类型",prop:"menuType"},{default:r(()=>[t(u,{modelValue:e(o).record.menuType,"onUpdate:modelValue":l[1]||(l[1]=n=>e(o).record.menuType=n),options:e(L),button:""},null,8,["modelValue","options"])]),_:1}),t(d,{label:"图标",prop:"icon"},{default:r(()=>[t(R,{"icon-value":e(o).record.icon,"onUpdate:iconValue":l[2]||(l[2]=n=>e(o).record.icon=n)},null,8,["icon-value"])]),_:1}),t(d,{label:"上级菜单",prop:"parentId"},{default:r(()=>[t(q,{"menu-value":e(o).record.parentId,"onUpdate:menuValue":l[3]||(l[3]=n=>e(o).record.parentId=n),"show-all":"",onChange:$,"menu-tree-api":()=>e(w).menuTreeSelector({module:e(x)})},null,8,["menu-value","menu-tree-api"])]),_:1}),t(d,{label:"状态",prop:"status"},{default:r(()=>[t(u,{modelValue:e(o).record.status,"onUpdate:modelValue":l[4]||(l[4]=n=>e(o).record.status=n),options:e(D),button:""},null,8,["modelValue","options"])]),_:1}),t(d,{label:"路由地址",prop:"path"},{default:r(()=>[t(p,{modelValue:e(o).record.path,"onUpdate:modelValue":l[5]||(l[5]=n=>e(o).record.path=n),placeholder:"请填写路由地址,例:/home/index"},null,8,["modelValue"])]),_:1}),e(A)||e(U)||e(a)?(v(),S("div",pe,[t(d,{label:"组件名称",prop:"name"},{default:r(()=>[t(p,{modelValue:e(o).record.name,"onUpdate:modelValue":l[6]||(l[6]=n=>e(o).record.name=n)},{prepend:r(()=>l[18]||(l[18]=[m("setup name=")])),_:1},8,["modelValue"])]),_:1}),t(d,{label:"组件地址",prop:"component"},{default:r(()=>[t(p,{modelValue:e(o).record.component,"onUpdate:modelValue":l[7]||(l[7]=n=>e(o).record.component=n)},{prepend:r(()=>l[19]||(l[19]=[m("src/views/")])),_:1},8,["modelValue"])]),_:1})])):C("",!0),e(a)?(v(),S("div",me,[t(d,{label:"链接地址:",prop:"isLink"},{default:r(()=>[t(p,{modelValue:e(o).record.isLink,"onUpdate:modelValue":l[8]||(l[8]=n=>e(o).record.isLink=n),placeholder:"请填写链接地址,例:http://www.baidu.com"},null,8,["modelValue"])]),_:1})])):C("",!0),t(d,{label:"排序",prop:"sortCode"},{default:r(()=>[t(P,{modelValue:e(o).record.sortCode,"onUpdate:modelValue":l[9]||(l[9]=n=>e(o).record.sortCode=n),"show-input":"",min:1},null,8,["modelValue"])]),_:1}),t(d,{label:"说明",prop:"description"},{default:r(()=>[t(p,{modelValue:e(o).record.description,"onUpdate:modelValue":l[10]||(l[10]=n=>e(o).record.description=n)},null,8,["modelValue"])]),_:1}),e(A)||e(a)?(v(),S("div",fe,[t(V,{"content-position":"left"},{default:r(()=>l[20]||(l[20]=[m("功能设置")])),_:1}),t(j,{gutter:24},{default:r(()=>[t(_,{span:12},{default:r(()=>[t(d,{label:"设置主页",prop:"isHome"},{default:r(()=>[t(u,{modelValue:e(o).record.isHome,"onUpdate:modelValue":l[11]||(l[11]=n=>e(o).record.isHome=n),disabled:e(a)||e(U),options:e(c),button:""},null,8,["modelValue","disabled","options"])]),_:1})]),_:1}),t(_,{span:12},{default:r(()=>[t(d,{label:"隐藏菜单",prop:"isHide"},{default:r(()=>[t(u,{modelValue:e(o).record.isHide,"onUpdate:modelValue":l[12]||(l[12]=n=>e(o).record.isHide=n),options:e(c),button:""},null,8,["modelValue","options"])]),_:1})]),_:1}),t(_,{span:12},{default:r(()=>[t(d,{label:"页面全屏",prop:"isFull"},{default:r(()=>[t(u,{modelValue:e(o).record.isFull,"onUpdate:modelValue":l[13]||(l[13]=n=>e(o).record.isFull=n),disabled:e(a),options:e(c),button:""},null,8,["modelValue","disabled","options"])]),_:1})]),_:1}),t(_,{span:12},{default:r(()=>[t(d,{label:"固定标签页",prop:"isAffix"},{default:r(()=>[t(u,{modelValue:e(o).record.isAffix,"onUpdate:modelValue":l[14]||(l[14]=n=>e(o).record.isAffix=n),disabled:e(a),options:e(c),button:""},null,8,["modelValue","disabled","options"])]),_:1})]),_:1}),t(_,{span:12},{default:r(()=>[t(d,{label:"路由缓存",prop:"isKeepAlive"},{default:r(()=>[t(u,{modelValue:e(o).record.isKeepAlive,"onUpdate:modelValue":l[15]||(l[15]=n=>e(o).record.isKeepAlive=n),disabled:e(a),options:e(c),button:""},null,8,["modelValue","disabled","options"])]),_:1})]),_:1})]),_:1})])):C("",!0)]),_:1},8,["rules","disabled","model","hide-required-asterisk"])]),_:1},8,["modelValue","title"])}}});export{Oe as _};
