/* empty css             *//* empty css                  *//* empty css                   *//* empty css                  */import{_ as x}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-D0lzutwe.js";import{s as B,a as R}from"./sampleManage-Bn7BfzMl.js";import{d as D,p as a,Y as c,i as I,o as P,w as p,b as r,a as s,u,D as S,e as f,B as E,ab as M}from"./index-Djyl84eR.js";/* empty css                 *//* empty css                    *//* empty css               *//* empty css                 *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-C83syoBY.js";import"./mock-DhPNTjQr.js";const q={class:"mt-4"},L={class:"dialog-footer"},se=D({__name:"index",props:{modelValue:{type:Boolean}},emits:["update:modelValue","confirm"],setup(b,{emit:h}){const w=b,n=h,t=a(!1),_=a(),g=a(),C=[{type:"selection",width:60},{type:"index",label:"序号",width:80},{prop:"productName",label:"产品名称",search:{el:"input",props:{placeholder:"请输入样品编号"}}},{prop:"standard",label:"检验依据标准",width:150,search:{el:"input",props:{placeholder:"请输入样品编号"}}},{prop:"itemName",label:"检验项目"},{prop:"pageNo",label:"附页序号",width:100},{prop:"fee",label:"检验费用(元)",width:120},{prop:"duration",label:"检验周期(天)",width:120},{prop:"productType",label:"产品类型"},{prop:"specification",label:"规格型号"},{prop:"sampleCount",label:"样品数量",width:100},{prop:"remark",label:"备注",width:100}],y=[{type:"index",label:"序号",width:80},{prop:"productName",label:"产品名称",width:150},{prop:"standard",label:"检验依据标准"},{prop:"itemName",label:"检验项目"},{prop:"pageNo",label:"附页序号",width:100},{prop:"fee",label:"检验费用(元)",width:120},{prop:"duration",label:"检验周期(天)",width:120},{prop:"productType",label:"产品类型"},{prop:"specification",label:"规格型号"},{prop:"sampleCount",label:"样品数量",width:100},{prop:"remark",label:"备注",width:100}],V=e=>e.productName||e.standard?Promise.resolve(B({...e})):Promise.resolve(R(2,5)),l=a([]);c(()=>w.modelValue,e=>{t.value=e,e||(l.value=[])}),c(()=>t.value,e=>{n("update:modelValue",e)});const k=e=>{l.value=e.map(o=>({...o}))},i=()=>{t.value=!1},v=()=>{n("confirm",l.value),i()};return(e,o)=>{const d=x,m=S,N=M;return P(),I(N,{modelValue:u(t),"onUpdate:modelValue":o[0]||(o[0]=T=>E(t)?t.value=T:null),title:"选择检验项目",width:"80%","destroy-on-close":!0,onClose:i},{footer:p(()=>[s("span",L,[r(m,{onClick:i},{default:p(()=>o[2]||(o[2]=[f("取消")])),_:1}),r(m,{type:"primary",onClick:v},{default:p(()=>o[3]||(o[3]=[f("确定")])),_:1})])]),default:p(()=>[r(d,{ref_key:"proTableRef",ref:_,columns:C,"tool-button":!1,"request-api":V,onSelectionChange:k},null,512),s("div",q,[o[1]||(o[1]=s("div",{class:"text-lg font-bold mb-2"},"已选检验项目",-1)),r(d,{ref_key:"selectedTableRef",ref:g,columns:y,"tool-button":!1,data:u(l),pagination:!1},null,8,["data"])])]),_:1},8,["modelValue"])}}});export{se as default};
