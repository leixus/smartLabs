import{_ as B}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BVglHUD0.js";/* empty css             *//* empty css               */import{_ as F,u as L}from"./useHandleData-BKFp7A2O.js";import{d as S,bf as M,bg as c,p as b,j as P,bt as q,c as R,o as T,b as a,a as z,u as e,bh as H,w as s,aH as u,by as d,i as D,bv as U,g as V,e as E,t as O,bp as w}from"./index-ClSyKtod.js";import{F as n}from"./formEnum-CT3LisML.js";import{T as j}from"./index-RUkZHeQt.js";import{_ as G}from"./form.vue_vue_type_script_setup_true_lang-DJ_M75CN.js";/* empty css                 *//* empty css                    *//* empty css                 *//* empty css                  *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                   *//* empty css                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-C83syoBY.js";/* empty css                        *//* empty css                         */import"./index-DKovId2h.js";/* empty css                  *//* empty css                  *//* empty css                        */import"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-CjHYIDxt.js";/* empty css                       *//* empty css                        */import"./index.vue_vue_type_script_setup_true_name_SInput_lang-Byk8g2NW.js";import"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CkA160Xq.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_name_SvgIcon_lang-DLoTdZhV.js";import"./index.vue_vue_type_script_setup_true_name_OrgSelector_lang-ONhJMdgU.js";/* empty css                       */import"./formRules-BdD8zfEi.js";const Y={class:"main-box"},J={class:"table-box"},K=S({name:"sysPosition"}),Pe=S({...K,setup(Q){const l=M(),x=l.getDictList(c.POSITION_CATEGORY),I=l.getDictList(c.COMMON_STATUS),g=b(null),p=P({orgId:0}),f=b(),N=[{type:"selection",fixed:"left",width:50},{prop:"name",label:"岗位名称",search:{el:"input"}},{prop:"category",label:"岗位分类",enum:x,search:{el:"tree-select"}},{prop:"code",label:"岗位编码",search:{el:"input"}},{prop:"status",label:"状态",enum:I,search:{el:"tree-select"}},{prop:"sortCode",label:"排序"},{prop:"createTime",label:"创建时间"},{prop:"operation",label:"操作",width:150,fixed:"right"}];function A(t){f.value.pageable.pageNum=1,t!=""?p.orgId=t:p.orgId=0}const h=b(null);function C(t,i={}){var r;(r=h.value)==null||r.onOpen({opt:t,record:i,successful:v})}async function k(t,i){await L(w.delete,{ids:t},i),v()}function v(){var t,i;(t=f.value)==null||t.refresh(),(i=g.value)==null||i.refresh()}return(t,i)=>{const r=F,y=V,$=B,m=q("auth");return T(),R("div",Y,[a(j,{ref_key:"treeFilter",ref:g,label:"name",title:"机构列表","show-all":!1,"request-api":e(H).tree,"default-value":e(p).orgId,onChange:A},null,8,["request-api","default-value"]),z("div",J,[a($,{ref_key:"proTable",ref:f,title:"岗位列表",columns:N,"request-api":e(w).page,"init-param":e(p)},{tableHeader:s(o=>[u(a(r,{suffix:"岗位",onClick:i[0]||(i[0]=_=>C(e(n).ADD))},null,512),[[m,e(d).add]]),u(a(r,{type:"danger",plain:"",suffix:"岗位",opt:e(n).DELETE,disabled:!o.isSelected,onClick:_=>k(o.selectedListIds,"删除所选岗位")},null,8,["opt","disabled","onClick"]),[[m,e(d).batchDelete]])]),status:s(o=>[o.row.status===e(U).ENABLE?(T(),D(y,{key:0,type:"success"},{default:s(()=>[E(O(e(l).dictTranslation(e(c).COMMON_STATUS,o.row.status)),1)]),_:2},1024)):(T(),D(y,{key:1,type:"danger"},{default:s(()=>[E(O(e(l).dictTranslation(e(c).COMMON_STATUS,o.row.status)),1)]),_:2},1024))]),operation:s(o=>[u(a(r,{link:"",opt:e(n).EDIT,onClick:_=>C(e(n).EDIT,o.row)},null,8,["opt","onClick"]),[[m,e(d).edit]]),u(a(r,{link:"",opt:e(n).DELETE,onClick:_=>k([o.row.id],`删除【${o.row.name}】岗位`)},null,8,["opt","onClick"]),[[m,e(d).delete]])]),_:1},8,["request-api","init-param"]),a(G,{ref_key:"formRef",ref:h},null,512)])])}}});export{Pe as default};
