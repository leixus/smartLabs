import{_ as N}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-dQS8jH7J.js";/* empty css             *//* empty css               */import{_ as A,u as $}from"./useHandleData-B5JvVrK5.js";import{d as D,bf as F,bg as m,p as f,j as L,c as M,o as d,b as a,a as B,u as t,bk as P,w as s,i as C,bv as q,g as R,e as E,t as O,bD as h}from"./index-yDSqlga2.js";import{F as n}from"./formEnum-CT3LisML.js";import{T as U}from"./index-DDYGGslX.js";import{_ as V}from"./form.vue_vue_type_script_setup_true_lang-C8Y70iyn.js";/* empty css                 *//* empty css                    *//* empty css                 *//* empty css                  *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                   *//* empty css                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-C83syoBY.js";/* empty css                        *//* empty css                         */import"./index-BhKoq_Rb.js";/* empty css                  *//* empty css                  *//* empty css                        */import"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-DRblrf2T.js";/* empty css                       *//* empty css                        */import"./index.vue_vue_type_script_setup_true_name_SInput_lang-C8CF6EG3.js";import"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CMD2z1PW.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_name_SvgIcon_lang-BO5mkfYj.js";import"./index.vue_vue_type_script_setup_true_name_OrgSelector_lang-BiN7E4y6.js";/* empty css                       */import"./formRules-BdD8zfEi.js";const H={class:"main-box"},j={class:"table-box"},G=D({name:"sysPosition"}),Ft=D({...G,setup(Y){const p=F(),v=p.getDictList(m.POSITION_CATEGORY),S=p.getDictList(m.COMMON_STATUS),_=f(null),l=L({orgId:0}),c=f(),w=[{type:"selection",fixed:"left",width:50},{prop:"name",label:"职位名称",search:{el:"input"}},{prop:"category",label:"职位分类",enum:v,search:{el:"tree-select"}},{prop:"code",label:"职位编码",search:{el:"input"}},{prop:"status",label:"状态",enum:S,search:{el:"tree-select"}},{prop:"sortCode",label:"排序"},{prop:"createTime",label:"创建时间"},{prop:"operation",label:"操作",width:180,fixed:"right"}];function x(e){c.value.pageable.pageNum=1,e!=""?l.orgId=e:l.orgId=0}const b=f(null);function T(e,r={}){var i;(i=b.value)==null||i.onOpen({opt:e,record:r,successful:k})}async function g(e,r){await $(h.delete,{ids:e},r),k()}function k(){var e,r;(e=c.value)==null||e.refresh(),(r=_.value)==null||r.refresh()}return(e,r)=>{const i=A,y=R,I=N;return d(),M("div",H,[a(U,{ref_key:"treeFilter",ref:_,label:"name",title:"组织列表","request-api":t(P).tree,"default-value":t(l).orgId,onChange:x},null,8,["request-api","default-value"]),B("div",j,[a(I,{ref_key:"proTable",ref:c,title:"职位列表",columns:w,"request-api":t(h).page,"init-param":t(l)},{tableHeader:s(o=>[a(i,{suffix:"职位",onClick:r[0]||(r[0]=u=>T(t(n).ADD))}),a(i,{type:"danger",plain:"",suffix:"职位",opt:t(n).DELETE,disabled:!o.isSelected,onClick:u=>g(o.selectedListIds,"删除所选职位")},null,8,["opt","disabled","onClick"])]),status:s(o=>[o.row.status===t(q).ENABLE?(d(),C(y,{key:0,type:"success"},{default:s(()=>[E(O(t(p).dictTranslation(t(m).COMMON_STATUS,o.row.status)),1)]),_:2},1024)):(d(),C(y,{key:1,type:"danger"},{default:s(()=>[E(O(t(p).dictTranslation(t(m).COMMON_STATUS,o.row.status)),1)]),_:2},1024))]),operation:s(o=>[a(i,{link:"",opt:t(n).EDIT,onClick:u=>T(t(n).EDIT,o.row)},null,8,["opt","onClick"]),a(i,{link:"",opt:t(n).DELETE,onClick:u=>g([o.row.id],`删除【${o.row.name}】职位`)},null,8,["opt","onClick"])]),_:1},8,["request-api","init-param"]),a(V,{ref_key:"formRef",ref:b},null,512)])])}}});export{Ft as default};
