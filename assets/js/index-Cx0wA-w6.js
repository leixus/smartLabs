/* empty css             *//* empty css                  *//* empty css                   */import{_ as R}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BVglHUD0.js";/* empty css               *//* empty css                  */import{d as $,p as d,c as J,o as U,b as l,ab as A,u as r,B as F,w as t,a as f,g as H,e as i,t as g,D as I,a7 as M,O,V as u}from"./index-ClSyKtod.js";/* empty css                 *//* empty css                   */import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                 *//* empty css                    *//* empty css                 *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                  */import"./sortable.esm-C83syoBY.js";const j={class:"user-selector"},q={class:"table-box aw-card"},z={class:"table-box"},G=$({__name:"index",emits:["update:modelValue","select"],setup(K,{expose:y,emit:h}){const _=h,p=d(!1),C=[{type:"selection",width:60},{type:"index",label:"序号",width:80},{prop:"userCode",label:"工号",width:120,search:{el:"input",props:{placeholder:"请输入工号"}}},{prop:"userName",label:"姓名",width:120,search:{el:"input",props:{placeholder:"请输入姓名"}}},{prop:"department",label:"所属部门"},{prop:"position",label:"职位"},{prop:"status",label:"状态",enum:[{label:"在职",value:"在职"},{label:"离职",value:"离职"}],search:{el:"select",props:{placeholder:"请选择状态",clearable:!0}}}],k=[{type:"selection",width:60},{type:"index",label:"序号",width:80},{prop:"userCode",label:"工号",width:120},{prop:"userName",label:"姓名",width:120},{prop:"department",label:"所属部门"},{prop:"position",label:"职位"},{prop:"status",label:"状态",enum:[{label:"在职",value:"在职"},{label:"离职",value:"离职"}]},{prop:"operation",label:"操作",width:150,fixed:"right"}],x=d([{id:1,userCode:"JS001",userName:"张三",department:"检测中心",position:"试验员",status:"在职"},{id:2,userCode:"JS002",userName:"李四",department:"检测中心",position:"试验员",status:"在职"}]),s=d([]),m=d(!1),v=d(),V=()=>{p.value=!0,N()},N=async a=>{m.value=!0;try{}finally{m.value=!1}},T=()=>{if(s.value.length===0){u.warning("请选择人员");return}_("select",s.value),b()},D=a=>{if(!(a!=null&&a.length)){u.warning("请选择要导入的样品");return}const e=a.filter(n=>!s.value.some(c=>c.id===n.id));if(e.length===0){u.warning("选中的样品已经在已选列表中");return}s.value=[...s.value,...e],u.success(`成功添加 ${e.length} 个设备`)},S=a=>{s.value=s.value.filter(e=>a.id===e.id),u.success(`成功移除 "${a.deviceName}"`)},b=()=>{p.value=!1,_("update:modelValue",!1)};return y({open:V}),(a,e)=>{const n=I,c=H,w=R,B=A;return U(),J("div",j,[l(B,{modelValue:r(p),"onUpdate:modelValue":e[0]||(e[0]=o=>F(p)?p.value=o:null),title:"选择人员",width:"70%","destroy-on-close":!0,onClose:b},{footer:t(()=>[l(n,{onClick:b},{default:t(()=>e[3]||(e[3]=[i("取消")])),_:1}),l(n,{type:"primary",onClick:T},{default:t(()=>e[4]||(e[4]=[i("确定")])),_:1})]),default:t(()=>[e[5]||(e[5]=f("div",{class:"form-title !mt-0"},"所有人员",-1)),f("div",q,[l(w,{ref_key:"proTableRef",ref:v,columns:C,data:r(x),loading:r(m),search:!0,"tool-button":!1,"row-key":"id"},{tableHeader:t(o=>[l(n,{type:"primary",icon:r(M),onClick:E=>D(o.selectedList)},{default:t(()=>e[1]||(e[1]=[i(" 添加到已选 ")])),_:2},1032,["icon","onClick"])]),status:t(o=>[l(c,{type:o.row.status==="在职"?"success":"info"},{default:t(()=>[i(g(o.row.status),1)]),_:2},1032,["type"])]),_:1},8,["data","loading"])]),e[6]||(e[6]=f("div",{class:"form-title"},"已选人员",-1)),f("div",z,[l(w,{ref_key:"proTableRef",ref:v,columns:k,data:r(s),loading:r(m),search:!0,"tool-button":!1,"row-key":"id"},{status:t(o=>[l(c,{type:o.row.status==="在职"?"success":"info"},{default:t(()=>[i(g(o.row.status),1)]),_:2},1032,["type"])]),operation:t(o=>[l(n,{type:"danger",link:"",icon:r(O),onClick:E=>S(o.row)},{default:t(()=>e[2]||(e[2]=[i(" 移除 ")])),_:2},1032,["icon","onClick"])]),_:1},8,["data","loading"])])]),_:1},8,["modelValue"])])}}}),we=P(G,[["__scopeId","data-v-4255111c"]]);export{we as default};
