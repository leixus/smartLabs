import{_ as E}from"./index-DKovId2h.js";/* empty css             *//* empty css                  *//* empty css                *//* empty css                  *//* empty css                 *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  */import{_ as A}from"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-CjHYIDxt.js";import{_ as B}from"./index-sZqu0faL.js";import{_ as T}from"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CkA160Xq.js";import{_ as $}from"./index.vue_vue_type_script_setup_true_name_SInput_lang-Byk8g2NW.js";import{d as q,bf as N,p as _,bg as R,j as b,i as j,o as I,w as s,b as r,_ as M,u as t,bm as P,aH as z,D as H,e as V,aI as L,B as G,cC as v}from"./index-ClSyKtod.js";import{r as i}from"./formRules-BdD8zfEi.js";import{F as C}from"./formEnum-CT3LisML.js";const uo=q({__name:"form",setup(J,{expose:D}){const S=N(),a=_(!1),u=S.getDictList(R.COMMON_STATUS),o=b({opt:C.ADD,record:{},disabled:!1}),x=b({title:[i("请输入单页名称")],menuType:[i("请选择单页类型")],path:[i("请输入路由地址")],name:[i("请输入组件名称")],component:[i("请输入组件地址")],sortCode:[i("请输入排序")],icon:[i("请选择图标")],status:[i("请选择状态")]});function y(n){Object.assign(o,n),n.opt==C.ADD&&(o.record.sortCode=99,o.record.status=u[0].value),a.value=!0,n.record.id&&v.detail({id:n.record.id}).then(e=>{o.record=e.data})}const m=_();async function k(){var n;(n=m.value)==null||n.validate(async e=>{e&&await v.submitForm(o.record,o.record.id!=null).then(()=>{o.successful()}).finally(()=>{p()})})}function p(){a.value=!1}return D({onOpen:y}),(n,e)=>{const c=$,d=T,w=B,U=A,g=P,F=M,f=H,O=E;return I(),j(O,{modelValue:t(a),"onUpdate:modelValue":e[5]||(e[5]=l=>G(a)?a.value=l:null),title:`${t(o).opt}模块`,"form-size":"600px"},{footer:s(()=>[r(f,{onClick:p},{default:s(()=>e[6]||(e[6]=[V(" 取消 ")])),_:1}),z(r(f,{type:"primary",onClick:k},{default:s(()=>e[7]||(e[7]=[V(" 确定 ")])),_:1},512),[[L,!t(o).disabled]])]),default:s(()=>[r(F,{ref_key:"moduleFormRef",ref:m,rules:t(x),disabled:t(o).disabled,model:t(o).record,"hide-required-asterisk":t(o).disabled,"label-width":"auto","label-suffix":" :",class:"mt-20px"},{default:s(()=>[r(d,{label:"模块名称",prop:"title"},{default:s(()=>[r(c,{modelValue:t(o).record.title,"onUpdate:modelValue":e[0]||(e[0]=l=>t(o).record.title=l)},null,8,["modelValue"])]),_:1}),r(d,{label:"图标",prop:"icon"},{default:s(()=>[r(w,{"icon-value":t(o).record.icon,"onUpdate:iconValue":e[1]||(e[1]=l=>t(o).record.icon=l)},null,8,["icon-value"])]),_:1}),r(d,{label:"状态",prop:"status"},{default:s(()=>[r(U,{modelValue:t(o).record.status,"onUpdate:modelValue":e[2]||(e[2]=l=>t(o).record.status=l),options:t(u),button:""},null,8,["modelValue","options"])]),_:1}),r(d,{label:"排序",prop:"sortCode"},{default:s(()=>[r(g,{modelValue:t(o).record.sortCode,"onUpdate:modelValue":e[3]||(e[3]=l=>t(o).record.sortCode=l),"show-input":"",min:1},null,8,["modelValue"])]),_:1}),r(d,{label:"说明",prop:"description"},{default:s(()=>[r(c,{modelValue:t(o).record.description,"onUpdate:modelValue":e[4]||(e[4]=l=>t(o).record.description=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","disabled","model","hide-required-asterisk"])]),_:1},8,["modelValue","title"])}}});export{uo as _};
