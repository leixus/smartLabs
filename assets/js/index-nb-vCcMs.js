import{_ as B}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BVglHUD0.js";/* empty css             *//* empty css               */import{_ as F,u as M}from"./useHandleData-BKFp7A2O.js";import{d as x,bf as q,bg as f,p as _,j as H,bt as U,c as V,o as b,b as a,a as z,u as e,bh as y,w as n,aH as l,bu as p,i as C,bv as G,g as P,e as k,t as S,bw as j}from"./index-ClSyKtod.js";import{F as m}from"./formEnum-CT3LisML.js";import{T as Y}from"./index-RUkZHeQt.js";import{_ as J}from"./form.vue_vue_type_script_setup_true_lang-D1m9A9Zv.js";import{_ as K}from"./copy.vue_vue_type_script_setup_true_lang-qNl-WvZy.js";/* empty css                 *//* empty css                    *//* empty css                 *//* empty css                  *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                   *//* empty css                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-C83syoBY.js";/* empty css                        *//* empty css                         */import"./index-B64TivR-.js";import"./index-DKovId2h.js";/* empty css                  *//* empty css               *//* empty css                */import"./el-tab-pane-l0sNRNKZ.js";/* empty css                  *//* empty css                        */import"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-CjHYIDxt.js";/* empty css                       *//* empty css                        */import"./index.vue_vue_type_script_setup_true_name_SInput_lang-Byk8g2NW.js";import"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CkA160Xq.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_name_SvgIcon_lang-DLoTdZhV.js";import"./index.vue_vue_type_script_setup_true_name_OrgSelector_lang-ONhJMdgU.js";/* empty css                       */import"./formRules-BdD8zfEi.js";const Q={class:"main-box"},W={class:"table-box"},X=x({name:"sysOrg"}),je=x({...X,setup(Z){const c=q(),$=c.getDictList(f.ORG_CATEGORY),I=c.getDictList(f.COMMON_STATUS),v=_(null),u=H({parentId:0}),T=_(),N=[{type:"selection",fixed:"left",width:50},{prop:"name",label:"机构名称",search:{el:"input"}},{prop:"names",label:"机构全称"},{prop:"category",label:"分类",enum:$,search:{el:"tree-select"}},{prop:"code",label:"编码",search:{el:"input"}},{prop:"status",label:"状态",enum:I,search:{el:"tree-select"}},{prop:"sortCode",label:"排序"},{prop:"createTime",label:"创建时间"},{prop:"operation",label:"操作",width:150,fixed:"right"}];function A(o){T.value.pageable.pageNum=1,o!=""?u.parentId=o:u.parentId=0}const h=_(null);function O(o,t={}){var i;(i=h.value)==null||i.onOpen({opt:o,record:t,successful:g})}const D=_(null);function L(o){var t;(t=D.value)==null||t.onOpen(o,g)}async function E(o,t){await M(y.delete,{ids:o},t),g()}function g(){var o,t;(o=T.value)==null||o.refresh(),(t=v.value)==null||t.refresh()}return(o,t)=>{const i=F,w=P,R=B,s=U("auth");return b(),V("div",Q,[a(Y,{ref_key:"treeFilter",ref:v,label:"name",title:"机构列表","show-all":!1,"request-api":e(y).tree,"default-value":e(u).parentId,onChange:A},null,8,["request-api","default-value"]),z("div",W,[a(R,{ref_key:"proTable",ref:T,title:"机构列表",columns:N,"request-api":e(y).page,"init-param":e(u)},{tableHeader:n(r=>[l(a(i,{suffix:"机构",onClick:t[0]||(t[0]=d=>O(e(m).ADD))},null,512),[[s,e(p).add]]),l((b(),C(i,{disabled:!r.isSelected,icon:e(j),onClick:d=>L(r.selectedListIds)},{default:n(()=>t[1]||(t[1]=[k(" 复制机构 ")])),_:2},1032,["disabled","icon","onClick"])),[[s,e(p).copy]]),l(a(i,{type:"danger",plain:"",suffix:"机构",opt:e(m).DELETE,disabled:!r.isSelected,onClick:d=>E(r.selectedListIds,"删除所选机构")},null,8,["opt","disabled","onClick"]),[[s,e(p).batchDelete]])]),status:n(r=>[r.row.status===e(G).ENABLE?(b(),C(w,{key:0,type:"success"},{default:n(()=>[k(S(e(c).dictTranslation(e(f).COMMON_STATUS,r.row.status)),1)]),_:2},1024)):(b(),C(w,{key:1,type:"danger"},{default:n(()=>[k(S(e(c).dictTranslation(e(f).COMMON_STATUS,r.row.status)),1)]),_:2},1024))]),operation:n(r=>[l(a(i,{link:"",opt:e(m).EDIT,onClick:d=>O(e(m).EDIT,r.row)},null,8,["opt","onClick"]),[[s,e(p).edit]]),l(a(i,{link:"",opt:e(m).DELETE,onClick:d=>E([r.row.id],`删除【${r.row.name}】机构`)},null,8,["opt","onClick"]),[[s,e(p).delete]])]),_:1},8,["request-api","init-param"]),a(J,{ref_key:"formRef",ref:h},null,512),a(K,{ref_key:"copyRef",ref:D},null,512)])])}}});export{je as default};
