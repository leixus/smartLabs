/* empty css             *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                *//* empty css                  *//* empty css                 *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  */import{_ as E}from"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CkA160Xq.js";import{_ as U}from"./index.vue_vue_type_script_setup_true_name_SInput_lang-Byk8g2NW.js";import{d as B,p as f,j as c,i as g,o as q,w as d,b as l,_ as A,u as t,bm as O,aH as R,D as S,e as _,aI as $,B as j,ab as N,cx as b}from"./index-ClSyKtod.js";import{r as V}from"./formRules-BdD8zfEi.js";import{F as v}from"./formEnum-CT3LisML.js";const ee=B({__name:"form",setup(H,{expose:C}){const a=f(!1),e=c({opt:v.ADD,record:{},disabled:!1}),w=c({title:[V("请输入单页名称")],code:[V("请输入按钮编码")]});function x(i){Object.assign(e,i),i.opt==v.ADD&&(e.record.sortCode=99),a.value=!0,i.record.id&&b.detail({id:i.record.id}).then(o=>{e.record=o.data})}const m=f();async function k(){var i;(i=m.value)==null||i.validate(async o=>{o&&await b.submitForm(e.record,e.record.id!=null).then(()=>{e.successful()}).finally(()=>{u()})})}function u(){a.value=!1}return C({onOpen:x}),(i,o)=>{const n=U,s=E,D=O,F=A,p=S,y=N;return q(),g(y,{modelValue:t(a),"onUpdate:modelValue":o[4]||(o[4]=r=>j(a)?a.value=r:null),title:`${t(e).opt}按钮`,width:"500px"},{footer:d(()=>[l(p,{onClick:u},{default:d(()=>o[5]||(o[5]=[_(" 取消 ")])),_:1}),R(l(p,{primary:"",onClick:k},{default:d(()=>o[6]||(o[6]=[_(" 确定")])),_:1},512),[[$,!t(e).disabled]])]),default:d(()=>[l(F,{ref_key:"buttonFormRef",ref:m,rules:t(w),disabled:t(e).disabled,model:t(e).record,"hide-required-asterisk":t(e).disabled,"label-width":"auto","label-suffix":" :"},{default:d(()=>[l(s,{label:"按钮名称",prop:"title"},{default:d(()=>[l(n,{modelValue:t(e).record.title,"onUpdate:modelValue":o[0]||(o[0]=r=>t(e).record.title=r)},null,8,["modelValue"])]),_:1}),l(s,{label:"按钮编码",prop:"code"},{default:d(()=>[l(n,{modelValue:t(e).record.code,"onUpdate:modelValue":o[1]||(o[1]=r=>t(e).record.code=r)},null,8,["modelValue"])]),_:1}),l(s,{label:"排序",prop:"sortCode"},{default:d(()=>[l(D,{modelValue:t(e).record.sortCode,"onUpdate:modelValue":o[2]||(o[2]=r=>t(e).record.sortCode=r),"show-input":"",min:1},null,8,["modelValue"])]),_:1}),l(s,{label:"说明",prop:"description"},{default:d(()=>[l(n,{modelValue:t(e).record.description,"onUpdate:modelValue":o[3]||(o[3]=r=>t(e).record.description=r)},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","disabled","model","hide-required-asterisk"])]),_:1},8,["modelValue","title"])}}});export{ee as _};
