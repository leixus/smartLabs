import{_ as I}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BVglHUD0.js";/* empty css             *//* empty css                 *//* empty css               */import{_ as L,u as $}from"./useHandleData-BKFp7A2O.js";import{d as O,p as A,bf as N,bg as s,c as F,o as p,b as l,w as o,i as m,Z as y,u as t,cw as u,aJ as V,cv as f,g as W,e as _,t as d,cs as R}from"./index-ClSyKtod.js";import{F as c}from"./formEnum-CT3LisML.js";import B from"./form-23Gpq5Cq.js";import{_ as U}from"./detail.vue_vue_type_script_setup_true_lang-cvgvk4e-.js";/* empty css                 *//* empty css                    *//* empty css                 *//* empty css                  *//* empty css                */import"./el-form-item-l0sNRNKZ.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                   *//* empty css                  */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-C83syoBY.js";import"./index-aGz6vecp.js";import"./index-DKovId2h.js";/* empty css                  *//* empty css               */import"./index-RUkZHeQt.js";/* empty css                        *//* empty css                         */import"./index-B64TivR-.js";/* empty css                */import"./el-tab-pane-l0sNRNKZ.js";import"./index.vue_vue_type_script_setup_true_name_SDatePicker_lang-GCNHu8MI.js";/* empty css                       */import"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-CjHYIDxt.js";/* empty css                       *//* empty css                        */import"./index.vue_vue_type_script_setup_true_name_SSelect_lang-Cz-t0Ofh.js";import"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CkA160Xq.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_name_SvgIcon_lang-DLoTdZhV.js";import"./index.vue_vue_type_script_setup_true_name_SInput_lang-Byk8g2NW.js";import"./formRules-BdD8zfEi.js";/* empty css                 *//* empty css                   *//* empty css                             */const q={class:"table-box"},H=O({name:"sysSpa"}),Bt=O({...H,setup(j){const k=A(),a=N(),G=a.getDictList(s.MESSAGE_CATEGORY),M=a.getDictList(s.MESSAGE_STATUS),h=a.getDictList(s.MESSAGE_WAY),Y=[{type:"selection",fixed:"left",width:80},{prop:"searchKey",label:"主题关键字",search:{el:"input"},isShow:!1},{prop:"subject",label:"主题"},{prop:"category",label:"消息类型",enum:G,search:{el:"select"}},{prop:"content",label:"正文"},{prop:"sendWay",label:"发送方式",enum:h},{prop:"createTime",label:"创建时间"},{prop:"sendTime",label:"发送时间"},{prop:"status",label:"状态",enum:M,search:{el:"select"}},{prop:"operation",label:"操作",width:200,fixed:"right"}],b=A(null);function D(r,i={}){var n;(n=b.value)==null||n.onOpen({opt:r,record:i,successful:T})}async function g(r,i){await $(R.delete,{ids:r},i),T()}function T(){var r;(r=k.value)==null||r.refresh()}const w=A(null);function v(r){var i;(i=w.value)==null||i.onOpen({opt:c.VIEW,record:r,successful:T})}return(r,i)=>{const n=L,E=W,C=V,x=I;return p(),F("div",q,[l(x,{ref_key:"proTable",ref:k,title:"消息列表",columns:Y,"request-api":t(R).page},{tableHeader:o(e=>[l(n,{suffix:"站内信",onClick:i[0]||(i[0]=S=>D(t(c).ADD))}),l(n,{type:"danger",plain:"",suffix:"站内信",opt:t(c).DELETE,disabled:!e.isSelected,onClick:S=>g(e.selectedListIds,"删除所选信息")},null,8,["opt","disabled","onClick"])]),status:o(e=>[l(C,{wrap:""},{default:o(()=>[e.row.status===t(u).ALREADY?(p(),m(E,{key:0,type:"success"},{default:o(()=>[_(d(t(a).dictTranslation(t(s).MESSAGE_STATUS,t(u).ALREADY)),1)]),_:1})):e.row.status===t(u).READY?(p(),m(E,{key:1,type:"info"},{default:o(()=>[_(d(t(a).dictTranslation(t(s).MESSAGE_STATUS,t(u).READY)),1)]),_:1})):y("",!0)]),_:2},1024)]),category:o(e=>[l(C,{wrap:""},{default:o(()=>[e.row.category===t(f).INFORM?(p(),m(E,{key:0,type:"danger"},{default:o(()=>[_(d(t(a).dictTranslation(t(s).MESSAGE_CATEGORY,t(f).INFORM)),1)]),_:1})):e.row.category===t(f).MESSAGE?(p(),m(E,{key:1,type:"primary"},{default:o(()=>[_(d(t(a).dictTranslation(t(s).MESSAGE_CATEGORY,t(f).MESSAGE)),1)]),_:1})):e.row.category===t(f).NOTICE?(p(),m(E,{key:2,type:"warning"},{default:o(()=>[_(d(t(a).dictTranslation(t(s).MESSAGE_CATEGORY,t(f).NOTICE)),1)]),_:1})):y("",!0)]),_:2},1024)]),operation:o(e=>[e.row.status===t(u).READY?(p(),m(n,{key:0,link:"",opt:t(c).EDIT,onClick:S=>D(t(c).EDIT,e.row)},null,8,["opt","onClick"])):y("",!0),e.row.status===t(u).ALREADY?(p(),m(n,{key:1,link:"",opt:t(c).VIEW,onClick:S=>v(e.row)},null,8,["opt","onClick"])):y("",!0),l(n,{link:"",opt:t(c).DELETE,onClick:S=>g([e.row.id],`删除【${e.row.title}】信息`)},null,8,["opt","onClick"])]),_:1},8,["request-api"]),l(B,{ref_key:"formRef",ref:b},null,512),l(U,{ref_key:"detailRef",ref:w},null,512)])}}});export{Bt as default};
