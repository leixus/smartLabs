import{_ as w}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BVglHUD0.js";import{_ as x,u as C}from"./useHandleData-BKFp7A2O.js";import{d as h,p as f,c as y,o as D,b as t,u as a,cG as m,w as _}from"./index-ClSyKtod.js";import{F as l}from"./formEnum-CT3LisML.js";import{_ as E}from"./form.vue_vue_type_script_setup_true_lang-BzJYz0kR.js";const T={class:"table-box min-h-300px"},$="配置",B=h({__name:"index",setup(g){const s=f(),u=[{type:"selection",fixed:"left",width:50},{prop:"configKey",label:"配置键"},{prop:"configValue",label:"配置值"},{prop:"remark",label:"备注"},{prop:"sortCode",label:"排序",width:80},{prop:"operation",label:"操作",fixed:"right",width:150}],i=f(null);function p(e,o={}){var n;(n=i.value)==null||n.onOpen({opt:e,record:o,successful:c})}async function d(e,o){await C(m.delete,{id:e},o),c()}function c(){var e;(e=s.value)==null||e.refresh()}return(e,o)=>{const n=x,b=w;return D(),y("div",T,[t(b,{ref_key:"proTable",ref:s,class:"table",columns:u,"request-api":a(m).page},{tableHeader:_(()=>[t(n,{suffix:$,onClick:o[0]||(o[0]=r=>p(a(l).ADD))})]),operation:_(r=>[t(n,{link:"",opt:a(l).EDIT,onClick:k=>p(a(l).EDIT,r.row)},null,8,["opt","onClick"]),t(n,{link:"",opt:a(l).DELETE,onClick:k=>d(r.row.id,`删除【${r.row.configKey}】配置`)},null,8,["opt","onClick"])]),_:1},8,["request-api"]),t(E,{ref_key:"formRef",ref:i},null,512)])}}});export{B as _};
