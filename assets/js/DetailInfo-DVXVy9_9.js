/* empty css             *//* empty css                  *//* empty css                             *//* empty css               */import{_ as w}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-D0lzutwe.js";import O from"./index-q7OtQnT6.js";import W from"./index-DHTecIhg.js";import{d as B,p as u,a9 as U,c as V,o as F,F as $,a as p,b as e,h as G,w as t,f as H,e as n,t as i,u as r,g as J,s as E,D as j,x as z}from"./index-Djyl84eR.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                 *//* empty css                    *//* empty css                 *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                   *//* empty css                  */import"./sortable.esm-C83syoBY.js";/* empty css                  */import"./deviceLifecycle-Dr8H_B-E.js";import"./mock-DhPNTjQr.js";/* empty css                 *//* empty css                   */const Q={class:"detail-container"},X={class:"table-header"},Y={class:"table-header"},Z=B({name:"DetailDialog",__name:"DetailInfo",props:{rowData:{type:Object,required:!0},showCard:{type:Boolean,default:!0}},setup(_){const o=u({planNo:"",orderNo:"",planName:"",materialCode:"",sampleNo:"",testItems:"",currentStep:"样品准备",progress:0,planStartTime:"",planEndTime:"",actualStartTime:"",actualEndTime:"",status:"NOT_STARTED",priority:"中",responsiblePerson:"",resourceWarning:!1,resourceWarningEnabled:!1,progressWarningThreshold:0,delayStatus:"正常",remarks:"",equipmentNeeds:[],personnelNeeds:[]}),N=s=>({NOT_STARTED:"未开始",IN_PROGRESS:"执行中",COMPLETED:"已完成",ABNORMAL:"异常",CANCELLED:"已取消"})[s]||s,T=s=>({NOT_STARTED:"info",IN_PROGRESS:"primary",COMPLETED:"success",ABNORMAL:"danger",CANCELLED:"warning"})[s]||"info",C=s=>({高:"danger",中:"warning",低:"info"})[s]||"info",D=u(),R=[{type:"selection",width:60},{type:"index",label:"序号",width:80},{prop:"deviceCode",label:"设备编号",width:150},{prop:"deviceName",label:"设备名称",width:150},{prop:"deviceStatus",label:"设备状态",width:100,enum:[{label:"正常",value:"正常"},{label:"维修中",value:"维修中"},{label:"报废",value:"报废"},{label:"闲置",value:"闲置"}]},{prop:"runningStatus",label:"运行状态",width:100,enum:[{label:"运行中",value:"运行中"},{label:"停用",value:"停用"},{label:"待机",value:"待机"}]},{prop:"specification",label:"规格型号",width:120},{prop:"accuracyRequirement",label:"精度要求",width:120},{prop:"quantity",label:"数量（台/套）",width:140},{prop:"manufacturer",label:"制造厂商",width:150},{prop:"storageLocation",label:"存放地点",width:150},{prop:"responsiblePerson",label:"设备责任人",width:120},{prop:"assetNumber",label:"资产编号",width:120},{prop:"supplierPhone",label:"供货商联系电话",width:150},{prop:"remarks",label:"备注",width:200},{prop:"operation",label:"操作",width:150,fixed:"right"}],m=u([{id:"540000201108192400",deviceCode:"DEV_00000001",deviceName:"或石江性八空设备",deviceStatus:"报废",runningStatus:"运行中",specification:"LD-438",testRange:"276.38~1675.68",accuracyRequirement:"±1.55",factoryNumber:"FN_72067353",quantity:2,manufacturer:"条收命极号验公司",purchasePrice:931182.04,purchaseDate:"2005-12-13",traceabilityMethod:"自校准",traceabilityUnit:"具斯军会没越水从计量院",traceabilityCycle:"20个月",nextTraceDate:"1985-03-08",certificateNumber:"CERT_3574536478",storageLocation:"盘锦市实验室",responsiblePerson:"赵军",department:"同性只相感部",classification:"A类",isImported:"否",assetNumber:"ASSET_90046698",supplierPhone:"14772394677",remarks:"具候非政传行切应海治可果水论。"}]),y=u(),x=()=>{var s;(s=y.value)==null||s.open()},k=s=>{const a=s.filter(l=>!m.value.some(d=>d.id===l.id));m.value.push(...a)},q=s=>{const a=m.value.findIndex(l=>l.id===s.id);a!==-1&&m.value.splice(a,1)},g=u(),I=[{type:"radio",width:60},{type:"index",label:"序号",width:80},{prop:"userCode",label:"工号",width:120},{prop:"userName",label:"姓名",width:120},{prop:"department",label:"所属部门"},{prop:"position",label:"职位"},{prop:"status",label:"状态",enum:[{label:"在职",value:"在职"},{label:"离职",value:"离职"}]},{prop:"operation",label:"操作",width:150,fixed:"right"}],c=u([{id:1,userCode:"JS001",userName:"张三",department:"检测中心",position:"试验员",status:"在职"},{id:2,userCode:"JS002",userName:"李四",department:"检测中心",position:"试验员",status:"在职"}]),L=()=>{var s;(s=g.value)==null||s.open()},P=s=>{const a=c.value.findIndex(l=>l.id===s.id);a!==-1&&c.value.splice(a,1)},A=s=>{const a=s.filter(l=>!c.value.some(d=>d.id===l.id));c.value.push(...a)};return(s,a)=>{const l=H,d=J,v=G,S=U("plus"),h=z,f=j;return F(),V($,null,[p("div",Q,[a[8]||(a[8]=p("div",{class:"section-title !mt-0"},"基本信息",-1)),e(v,{column:3,border:""},{default:t(()=>[e(l,{label:"计划编号"},{default:t(()=>[n(i(r(o).planNo),1)]),_:1}),e(l,{label:"委托编号"},{default:t(()=>[n(i(r(o).orderNo),1)]),_:1}),e(l,{label:"计划名称"},{default:t(()=>[n(i(r(o).planName),1)]),_:1}),e(l,{label:"物料编码"},{default:t(()=>[n(i(r(o).materialCode),1)]),_:1}),e(l,{label:"试样编号"},{default:t(()=>[n(i(r(o).sampleNo),1)]),_:1}),e(l,{label:"检测项目"},{default:t(()=>[n(i(r(o).testItems),1)]),_:1}),e(l,{label:"当前步骤"},{default:t(()=>[n(i(r(o).currentStep),1)]),_:1}),e(l,{label:"进度"},{default:t(()=>[n(i(r(o).progress)+"%",1)]),_:1}),e(l,{label:"状态"},{default:t(()=>[e(d,{type:T(r(o).status)},{default:t(()=>[n(i(N(r(o).status)),1)]),_:1},8,["type"])]),_:1}),e(l,{label:"计划开始时间"},{default:t(()=>[n(i(r(o).planStartTime),1)]),_:1}),e(l,{label:"计划完成时间"},{default:t(()=>[n(i(r(o).planEndTime),1)]),_:1}),e(l,{label:"实际开始时间"},{default:t(()=>[n(i(r(o).actualStartTime||"未开始"),1)]),_:1}),e(l,{label:"实际完成时间"},{default:t(()=>[n(i(r(o).actualEndTime||"未完成"),1)]),_:1}),e(l,{label:"优先级"},{default:t(()=>[e(d,{type:C(r(o).priority)},{default:t(()=>[n(i(r(o).priority),1)]),_:1},8,["type"])]),_:1}),e(l,{label:"负责人"},{default:t(()=>[n(i(r(o).responsiblePerson),1)]),_:1}),e(l,{label:"延误状态"},{default:t(()=>[e(d,{type:r(o).delayStatus==="正常"?"success":"danger"},{default:t(()=>[n(i(r(o).delayStatus),1)]),_:1},8,["type"])]),_:1}),e(l,{label:"资源预警"},{default:t(()=>[e(d,{type:r(o).resourceWarning?"danger":"success"},{default:t(()=>[n(i(r(o).resourceWarning?"是":"否"),1)]),_:1},8,["type"])]),_:1}),e(l,{label:"备注",span:3},{default:t(()=>[n(i(r(o).remarks||"无"),1)]),_:1})]),_:1}),a[9]||(a[9]=p("div",{class:"section-title"},"资源分配",-1)),p("div",{class:E(["resource-section",{"aw-card":!_.showCard}])},[a[2]||(a[2]=p("h4",null,"设备需求",-1)),e(w,{ref_key:"equipmentTableRef",ref:D,columns:R,data:r(m),pagination:!1,height:"300px"},{tableHeader:t(()=>[p("div",X,[e(f,{type:"primary",onClick:x},{default:t(()=>[e(h,null,{default:t(()=>[e(S)]),_:1}),a[0]||(a[0]=n("选择设备 "))]),_:1})])]),operation:t(b=>[e(f,{type:"danger",link:"",onClick:M=>q(b.row)},{default:t(()=>a[1]||(a[1]=[n("删除")])),_:2},1032,["onClick"])]),_:1},8,["data"])],2),p("div",{class:E(["resource-section",{"aw-card":!_.showCard}])},[a[5]||(a[5]=p("h4",null,"人员需求",-1)),e(w,{ref:"userTableRef",columns:I,data:r(c),pagination:!1,height:"300px"},{tableHeader:t(()=>[p("div",Y,[e(f,{type:"primary",onClick:L},{default:t(()=>[e(h,null,{default:t(()=>[e(S)]),_:1}),a[3]||(a[3]=n("选择人员 "))]),_:1})])]),operation:t(b=>[e(f,{type:"danger",link:"",onClick:M=>P(b.row)},{default:t(()=>a[4]||(a[4]=[n("删除")])),_:2},1032,["onClick"])]),_:1},8,["data"])],2),a[10]||(a[10]=p("div",{class:"section-title"},"预警设置",-1)),e(v,{column:1,border:""},{default:t(()=>[e(l,{label:"进度预警阈值"},{default:t(()=>[n(i(r(o).progressWarningThreshold)+"% ",1),a[6]||(a[6]=p("div",{class:"text-gray-400 text-sm mt-1"},"当实际进度落后计划进度超过该阈值时触发预警",-1))]),_:1}),e(l,{label:"资源预警设置"},{default:t(()=>[e(d,{type:r(o).resourceWarningEnabled?"success":"info"},{default:t(()=>[n(i(r(o).resourceWarningEnabled?"已启用":"未启用"),1)]),_:1},8,["type"]),a[7]||(a[7]=p("div",{class:"text-gray-400 text-sm mt-1"},"启用后将监控设备、人员等资源状态并及时预警",-1))]),_:1})]),_:1})]),e(O,{ref_key:"equipmentSelectorRef",ref:y,onSelect:k},null,512),e(W,{ref_key:"userSelectorRef",ref:g,onSelect:A},null,512)],64)}}}),xe=K(Z,[["__scopeId","data-v-a54320ee"]]);export{xe as default};
