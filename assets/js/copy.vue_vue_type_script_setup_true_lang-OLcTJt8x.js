import{_ as S}from"./index-BhKoq_Rb.js";/* empty css             *//* empty css                  *//* empty css                */import{_ as I}from"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-DRblrf2T.js";import{_ as w}from"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CMD2z1PW.js";import{_ as B}from"./index.vue_vue_type_script_setup_true_name_OrgSelector_lang-BiN7E4y6.js";import{d as D,p as f,bf as E,bg as O,j as g,i as U,o as F,w as s,b as n,_ as N,u as e,D as R,e as b,B as $,bk as j}from"./index-yDSqlga2.js";import{r as u}from"./formRules-BdD8zfEi.js";const Q=D({__name:"copy",setup(q,{expose:y}){const i=f(!1),p=E().getDictList(O.YES_NO),t=g({targetId:0,ids:[],containsChild:!0,containsPosition:!0}),V=g({targetId:[u("请选择目标组织")],containsChild:[u("请选择是否包含子集")],containsPosition:[u("请选择是否包含职位")]});function C(a,o){i.value=!0,t.ids=a,t.successful=o}const m=f();async function v(){var a;(a=m.value)==null||a.validate(async o=>{o&&await j.copy(t).then(()=>{t.successful()}).finally(()=>{d()})})}function d(){i.value=!1}return y({onOpen:C}),(a,o)=>{const k=B,r=w,c=I,x=N,_=R,P=S;return F(),U(P,{modelValue:e(i),"onUpdate:modelValue":o[3]||(o[3]=l=>$(i)?i.value=l:null),title:"复制组织","form-size":"600px"},{footer:s(()=>[n(_,{onClick:d},{default:s(()=>o[4]||(o[4]=[b(" 取消 ")])),_:1}),n(_,{type:"primary",onClick:v},{default:s(()=>o[5]||(o[5]=[b(" 确定 ")])),_:1})]),default:s(()=>[n(x,{ref_key:"orgFormRef",ref:m,rules:e(V),model:e(t),"label-width":"auto"},{default:s(()=>[n(r,{label:"目标组织",prop:"targetId"},{default:s(()=>[n(k,{"org-value":e(t).targetId,"onUpdate:orgValue":o[0]||(o[0]=l=>e(t).targetId=l)},null,8,["org-value"])]),_:1}),n(r,{label:"包含子集",prop:"containsChild",tooltip:{content:"将组织下的子机构也复制一份到目标组织"}},{default:s(()=>[n(c,{modelValue:e(t).containsChild,"onUpdate:modelValue":o[1]||(o[1]=l=>e(t).containsChild=l),options:e(p),button:""},null,8,["modelValue","options"])]),_:1}),n(r,{label:"包含职位",prop:"containsPosition",tooltip:{content:"将组织下的子机构也复制一份到目标组织"}},{default:s(()=>[n(c,{modelValue:e(t).containsPosition,"onUpdate:modelValue":o[2]||(o[2]=l=>e(t).containsPosition=l),options:e(p),button:""},null,8,["modelValue","options"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue"])}}});export{Q as _};
