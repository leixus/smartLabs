import{_ as F}from"./index-DKovId2h.js";/* empty css             *//* empty css                  *//* empty css                *//* empty css                  *//* empty css                 *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  */import{_ as T}from"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-CjHYIDxt.js";import{_ as $}from"./index.vue_vue_type_script_setup_true_name_SInput_lang-Byk8g2NW.js";import{_ as B}from"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-CkA160Xq.js";import{_ as N}from"./index.vue_vue_type_script_setup_true_name_OrgSelector_lang-ONhJMdgU.js";import{d as R,p as g,bf as q,bg as V,j as v,c as z,o as P,b as r,u as t,B as j,w as a,_ as L,bh as M,bm as G,aH as H,D as Y,e as y,aI as J,bp as C}from"./index-ClSyKtod.js";import{F as O}from"./formEnum-CT3LisML.js";import{r as d}from"./formRules-BdD8zfEi.js";const po=R({__name:"form",setup(K,{expose:D}){const n=g(!1),m=q(),u=m.getDictList(V.POSITION_CATEGORY),p=m.getDictList(V.COMMON_STATUS),o=v({opt:O.ADD,record:{},disabled:!1}),S=v({parentId:[d("请选择所属组织")],name:[d("请输入岗位名称")],orgId:[d("请选择所属岗位")],category:[d("请选择岗位类型")],status:[d("请选择状态")]});function w(l){Object.assign(o,l),l.opt==O.ADD&&(o.record.sortCode=99,o.record.category=u[0].value,o.record.status=p[0].value),n.value=!0,l.record.id&&C.detail({id:l.record.id}).then(e=>{o.record=e.data})}const c=g();async function I(){var l;(l=c.value)==null||l.validate(async e=>{e&&await C.submitForm(o.record,o.record.id!=null).then(()=>{o.successful()}).finally(()=>{f()})})}function f(){n.value=!1}return D({onOpen:w}),(l,e)=>{const k=N,i=B,x=$,_=T,E=G,U=L,b=Y,A=F;return P(),z("div",null,[r(A,{modelValue:t(n),"onUpdate:modelValue":e[5]||(e[5]=s=>j(n)?n.value=s:null),title:`${t(o).opt}岗位`,"form-size":"600px"},{footer:a(()=>[r(b,{onClick:f},{default:a(()=>e[6]||(e[6]=[y(" 取消 ")])),_:1}),H(r(b,{type:"primary",onClick:I},{default:a(()=>e[7]||(e[7]=[y(" 确定 ")])),_:1},512),[[J,!t(o).disabled]])]),default:a(()=>[r(U,{ref_key:"positionFormRef",ref:c,rules:t(S),disabled:t(o).disabled,model:t(o).record,"hide-required-asterisk":t(o).disabled,"label-width":"auto","label-suffix":" :"},{default:a(()=>[r(i,{label:"所属组织",prop:"orgId"},{default:a(()=>[r(k,{"org-value":t(o).record.orgId,"onUpdate:orgValue":e[0]||(e[0]=s=>t(o).record.orgId=s),"org-tree-api":t(M).tree,"show-all":!1},null,8,["org-value","org-tree-api"])]),_:1}),r(i,{label:"岗位名称",prop:"name"},{default:a(()=>[r(x,{modelValue:t(o).record.name,"onUpdate:modelValue":e[1]||(e[1]=s=>t(o).record.name=s)},null,8,["modelValue"])]),_:1}),r(i,{label:"岗位分类",prop:"category"},{default:a(()=>[r(_,{modelValue:t(o).record.category,"onUpdate:modelValue":e[2]||(e[2]=s=>t(o).record.category=s),options:t(u),button:""},null,8,["modelValue","options"])]),_:1}),r(i,{label:"状态",prop:"status"},{default:a(()=>[r(_,{modelValue:t(o).record.status,"onUpdate:modelValue":e[3]||(e[3]=s=>t(o).record.status=s),options:t(p),button:""},null,8,["modelValue","options"])]),_:1}),r(i,{label:"排序",prop:"sortCode"},{default:a(()=>[r(E,{modelValue:t(o).record.sortCode,"onUpdate:modelValue":e[4]||(e[4]=s=>t(o).record.sortCode=s),"show-input":"",min:1},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","disabled","model","hide-required-asterisk"])]),_:1},8,["modelValue","title"])])}}});export{po as _};
