/* empty css             *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import"./el-tab-pane-l0sNRNKZ.js";/* empty css                         */import{_ as T}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BVglHUD0.js";import{d as k,p as h,j as F,Y as g,X as M,i as v,o as _,w as a,b as l,ap as N,aq as x,a as w,bN as L,c as R,F as $,r as A,bO as I,e as V,t as P,D as U,ab as j}from"./index-ClSyKtod.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                 *//* empty css                    *//* empty css               *//* empty css                 *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                  */import"./sortable.esm-C83syoBY.js";const O={class:"card"},W={class:"dialog-footer"},X={name:"FlowRecordDialog"},Y=k({...X,props:{visible:{type:Boolean},records:{}},emits:["update:visible","closed"],setup(C,{emit:B}){const m=C,b=B,n=h(m.visible),f=h("timeline"),y=F([{prop:"handler",label:"经手人",width:100},{prop:"content",label:"内容",minWidth:150},{prop:"time",label:"时间",width:180},{prop:"sample",label:"样品",width:120},{prop:"status",label:"状态",width:100},{prop:"scanCount",label:"扫码次数",width:100,align:"center"},{prop:"registrationSite",label:"登记站点",width:120},{prop:"testLocation",label:"检测场所",width:120}]);g(()=>m.visible,e=>{n.value=e}),g(n,e=>{b("update:visible",e)});const D=()=>{b("closed")},E=M(()=>m.records.map((e,t)=>{const c=e.content.includes("检测")?"检测中":e.content.includes("入库")?"已入库":e.content.includes("出库")?"已出库":"处理中",s=["张工","李工","王工","赵工","刘工"],i=s[t%s.length],d=`SP${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`,u=Math.floor(Math.random()*5)+1,r=["A站点","B站点","C站点","D站点"],o=r[t%r.length],p=["A实验室","B实验室","C实验室","D实验室"],S=p[t%p.length];return{handler:i,time:e.time,sample:d,status:c,scanCount:u,registrationSite:o,testLocation:S,content:e.content}}));return(e,t)=>{const c=I,s=L,i=x,d=N,u=U,r=j;return _(),v(r,{modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=o=>n.value=o),title:"样品流转记录",width:"70%","destroy-on-close":"",onClosed:D},{footer:a(()=>[w("span",W,[l(u,{onClick:t[1]||(t[1]=o=>n.value=!1)},{default:a(()=>t[3]||(t[3]=[V("关闭")])),_:1})])]),default:a(()=>[l(d,{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=o=>f.value=o)},{default:a(()=>[l(i,{label:"流程图视图",name:"timeline"},{default:a(()=>[w("div",O,[l(s,null,{default:a(()=>[(_(!0),R($,null,A(e.records,(o,p)=>(_(),v(c,{key:p,timestamp:o.time,type:o.type},{default:a(()=>[V(P(o.content),1)]),_:2},1032,["timestamp","type"]))),128))]),_:1})])]),_:1}),l(i,{label:"表格视图",name:"table"},{default:a(()=>[l(T,{columns:y,data:E.value,"tool-button":!1,pagination:!1,search:!1,height:"400px"},null,8,["columns","data"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),gt=q(Y,[["__scopeId","data-v-273b949e"]]);export{gt as default};
