import{_ as I}from"./index-BpMzQZqs.js";/* empty css             *//* empty css                  *//* empty css                */import{_ as P}from"./index.vue_vue_type_script_setup_true_name_SRadioGroup_lang-DgQCsAK8.js";import{_ as B}from"./index.vue_vue_type_script_setup_true_name_SFormItem_lang-BaPcQrZE.js";import{_ as D}from"./index.vue_vue_type_script_setup_true_name_OrgSelector_lang-ZOwXKiz2.js";import{d as E,p as f,bf as O,bg as U,j as _,i as F,o as N,w as s,b as n,_ as R,u as t,bh as g,D as $,e as b,B as z}from"./index-Djyl84eR.js";import{r as V}from"./formRules-BdD8zfEi.js";const M=E({__name:"copy",setup(j,{expose:y}){const a=f(!1),u=O().getDictList(U.YES_NO),e=_({targetId:"",ids:[],containsChild:!0,containsPosition:!0}),C=_({targetId:[V("请选择目标机构")],containsChild:[V("请选择是否包含子集")]});function v(i,o){a.value=!0,e.ids=i,e.successful=o}const p=f();async function x(){var i;(i=p.value)==null||i.validate(async o=>{o&&await g.copy(e).then(()=>{e.successful()}).finally(()=>{m()})})}function m(){a.value=!1}return y({onOpen:v}),(i,o)=>{const S=D,r=B,d=P,k=R,c=$,w=I;return N(),F(w,{modelValue:t(a),"onUpdate:modelValue":o[3]||(o[3]=l=>z(a)?a.value=l:null),title:"复制机构","form-size":"600px"},{footer:s(()=>[n(c,{onClick:m},{default:s(()=>o[4]||(o[4]=[b(" 取消 ")])),_:1}),n(c,{type:"primary",onClick:x},{default:s(()=>o[5]||(o[5]=[b(" 确定 ")])),_:1})]),default:s(()=>[n(k,{ref_key:"orgFormRef",ref:p,rules:t(C),model:t(e),"label-width":"auto"},{default:s(()=>[n(r,{label:"目标机构",prop:"targetId"},{default:s(()=>[n(S,{"org-value":t(e).targetId,"onUpdate:orgValue":o[0]||(o[0]=l=>t(e).targetId=l),"org-tree-api":t(g).tree,"show-all":!1},null,8,["org-value","org-tree-api"])]),_:1}),n(r,{label:"包含子集",prop:"containsChild",tooltip:{content:"将组织下的子机构也复制一份到目标组织"}},{default:s(()=>[n(d,{modelValue:t(e).containsChild,"onUpdate:modelValue":o[1]||(o[1]=l=>t(e).containsChild=l),options:t(u),button:""},null,8,["modelValue","options"])]),_:1}),n(r,{label:"包含职位",prop:"containsPosition",tooltip:{content:"将组织下的岗位也复制一份到目标组织"}},{default:s(()=>[n(d,{modelValue:t(e).containsPosition,"onUpdate:modelValue":o[2]||(o[2]=l=>t(e).containsPosition=l),options:t(u),button:""},null,8,["modelValue","options"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue"])}}});export{M as _};
