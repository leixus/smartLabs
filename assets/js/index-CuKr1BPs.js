/* empty css             *//* empty css                  *//* empty css                   */import{T as z}from"./index-GgYftnCm.js";/* empty css                  *//* empty css               *//* empty css                             */import{_ as F}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-BVglHUD0.js";import{d as N,p as d,Y as C,i as f,o as _,w as e,a as m,b as t,u as a,h as Y,f as Z,e as l,t as s,g as q,Z as b,D as H,a4 as D,B as L,a8 as J}from"./index-ClSyKtod.js";import{b as K}from"./sampleManage-Ci-gtlVq.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                  *//* empty css                */import"./el-form-item-l0sNRNKZ.js";/* empty css                 *//* empty css                  *//* empty css                  *//* empty css                   *//* empty css                 *//* empty css                    *//* empty css                 *//* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                     */import"./sortable.esm-C83syoBY.js";import"./mock-Lm0ig56v.js";const W={class:"drawer-content aw-card"},X={class:"drawer-footer"},ee=N({name:"CommissionDrawer"}),te=N({...ee,props:{modelValue:{type:Boolean,default:!1},title:{default:"新增委托"},rowData:{}},emits:["update:modelValue","draft","success"],setup(A,{emit:v}){const w=A,G=v,u=d(!1),o=d({});C(()=>w.modelValue,n=>{u.value=n,n&&w.rowData&&(o.value={...w.rowData})}),C(()=>u.value,n=>{G("update:modelValue",n),n||(o.value={})});const y=()=>{u.value=!1},P=n=>({待检:"info",检验中:"warning",已完成:"success",已作废:"danger"})[n]||"info",S=n=>({待接收:"info",已接收:"success",检验中:"warning",已完成:"success"})[n]||"info",g=d(!1),I=n=>{o.value.inspectionProject=n.name},R=d([{label:"序号",prop:"index",width:60},{label:"工序名称",prop:"processName"},{label:"工序位置",prop:"processLocation"},{label:"操作人",prop:"operator"},{label:"操作时间",prop:"operateTime"},{label:"状态",prop:"status"},{label:"备注",prop:"remark"}]),B=d([{id:1,index:1,processName:"样品登记",processLocation:"样品接收室",operator:"张三",operateTime:"2024-03-20 09:00:00",status:"已完成",remark:"样品接收并登记"},{id:2,index:2,processName:"AGV运输",processLocation:"AGV路线1",operator:"AGV-001",operateTime:"2024-03-20 09:30:00",status:"已完成",remark:"从样品接收室经A区通道到样品预处理室"},{id:3,index:3,processName:"样品预处理",processLocation:"样品预处理室",operator:"李四",operateTime:"2024-03-20 10:00:00",status:"已完成",remark:"样品切割、打磨"},{id:4,index:4,processName:"AGV运输",processLocation:"AGV路线2",operator:"AGV-002",operateTime:"2024-03-20 10:30:00",status:"已完成",remark:"从样品预处理室经B区通道到冲击试验室"},{id:5,index:5,processName:"冲击试验准备",processLocation:"冲击试验室",operator:"王五",operateTime:"2024-03-20 11:00:00",status:"已完成",remark:"样品安装、设备调试"},{id:6,index:6,processName:"冲击试验",processLocation:"冲击试验室",operator:"王五",operateTime:"2024-03-20 11:30:00",status:"已完成",remark:"完成冲击试验，记录数据"},{id:7,index:7,processName:"AGV运输",processLocation:"AGV路线3",operator:"AGV-003",operateTime:"2024-03-20 14:00:00",status:"已完成",remark:"从冲击试验室经C区通道到数据处理室"},{id:8,index:8,processName:"数据分析",processLocation:"数据处理室",operator:"赵六",operateTime:"2024-03-20 14:30:00",status:"已完成",remark:"分析冲击试验数据"},{id:9,index:9,processName:"AGV运输",processLocation:"AGV路线4",operator:"AGV-004",operateTime:"2024-03-20 15:00:00",status:"已完成",remark:"从数据处理室经D区通道到报告室"},{id:10,index:10,processName:"报告编制",processLocation:"报告室",operator:"钱七",operateTime:"2024-03-20 15:30:00",status:"已完成",remark:"编制试验报告"},{id:11,index:11,processName:"AGV运输",processLocation:"AGV路线5",operator:"AGV-005",operateTime:"2024-03-20 16:00:00",status:"已完成",remark:"从报告室经E区通道到样品库"},{id:12,index:12,processName:"样品入库",processLocation:"样品库",operator:"孙八",operateTime:"2024-03-20 16:30:00",status:"已完成",remark:"样品入库保存"}]),h=[{type:"index",label:"序号",width:80},{prop:"fileName",label:"文件"},{prop:"remarks",label:"备注"},{prop:"operation",label:"操作",width:160,fixed:"right"}],E=K(),M=d(E),U=d(),T=n=>{n.fileUrl&&window.open(n.fileUrl)};return(n,i)=>{const x=F,r=Z,V=Y,c=q,k=H,$=z,j=J;return _(),f(j,{modelValue:a(u),"onUpdate:modelValue":i[1]||(i[1]=p=>L(u)?u.value=p:null),title:n.title,size:"100%","destroy-on-close":!0,onClose:y},{footer:e(()=>[m("div",X,[t(k,{onClick:y},{default:e(()=>i[8]||(i[8]=[l("取消")])),_:1})])]),default:e(()=>[m("div",W,[i[3]||(i[3]=m("div",{class:"form-title"},"流转记录",-1)),t(x,{ref:"flowTableRef",columns:a(R),data:a(B),"row-key":"id",pagination:!1},null,8,["columns","data"]),i[4]||(i[4]=m("div",{class:"form-title !mt-4"},"样品信息",-1)),t(V,{column:3,"label-width":"140",border:""},{default:e(()=>[t(r,{label:"原始编号"},{default:e(()=>[l(s(a(o).originalDate),1)]),_:1}),t(r,{label:"样品编号"},{default:e(()=>[l(s(a(o).sampleId),1)]),_:1}),t(r,{label:"物料编码"},{default:e(()=>[l(s(a(o).materialCode),1)]),_:1}),t(r,{label:"样品名称"},{default:e(()=>[l(s(a(o).sampleName),1)]),_:1}),t(r,{label:"样品类型"},{default:e(()=>[l(s(a(o).sampleType),1)]),_:1}),t(r,{label:"有效期/保质期"},{default:e(()=>[l(s(a(o).validityPeriod),1)]),_:1}),t(r,{label:"包装"},{default:e(()=>[l(s(a(o).packaging),1)]),_:1}),t(r,{label:"样品贮存"},{default:e(()=>[l(s(a(o).sampleStorage),1)]),_:1}),t(r,{label:"样品外观"},{default:e(()=>[l(s(a(o).sampleAppearance),1)]),_:1}),t(r,{label:"样品特性/状态"},{default:e(()=>[l(s(a(o).sampleStatus),1)]),_:1}),t(r,{label:"规格型号"},{default:e(()=>[l(s(a(o).specification),1)]),_:1}),t(r,{label:"样品处置"},{default:e(()=>[l(s(a(o).sampleDisposition),1)]),_:1}),t(r,{label:"检查封样人员"},{default:e(()=>[l(s(a(o).sealingSampler),1)]),_:1}),t(r,{label:"样品描述",span:3},{default:e(()=>[l(s(a(o).sampleDescription),1)]),_:1})]),_:1}),i[5]||(i[5]=m("div",{class:"form-title"},"检验信息",-1)),t(V,{column:3,"label-width":"140",border:""},{default:e(()=>[t(r,{label:"检测项目"},{default:e(()=>[l(s(a(o).inspectionProject),1)]),_:1}),t(r,{label:"检验状态"},{default:e(()=>[t(c,{type:P(a(o).inspectionStatus),effect:"light"},{default:e(()=>[l(s(a(o).inspectionStatus),1)]),_:1},8,["type"])]),_:1}),t(r,{label:"流转状态"},{default:e(()=>[t(c,{type:S(a(o).flowStatus),effect:"light"},{default:e(()=>[l(s(a(o).flowStatus),1)]),_:1},8,["type"])]),_:1}),t(r,{label:"当前工序"},{default:e(()=>[a(o).currentProcess?(_(),f(c,{key:0,type:"primary",effect:"light"},{default:e(()=>[l(s(a(o).currentProcess),1)]),_:1})):b("",!0)]),_:1}),t(r,{label:"当前位置"},{default:e(()=>[a(o).currentLocation?(_(),f(c,{key:0,type:"success",effect:"light"},{default:e(()=>[l(s(a(o).currentLocation),1)]),_:1})):b("",!0)]),_:1}),t(r,{label:"下一工序"},{default:e(()=>[a(o).nextProcess?(_(),f(c,{key:0,type:"warning",effect:"light"},{default:e(()=>[l(s(a(o).nextProcess),1)]),_:1})):b("",!0)]),_:1}),t(r,{label:"下一工序位置"},{default:e(()=>[a(o).nextLocation?(_(),f(c,{key:0,type:"info",effect:"light"},{default:e(()=>[l(s(a(o).nextProcessLocation),1)]),_:1})):b("",!0)]),_:1}),t(r,{label:"到样日期"},{default:e(()=>[l(s(a(o).sampleArrivalDate),1)]),_:1}),t(r,{label:"完成期限"},{default:e(()=>[l(s(a(o).completionDeadline),1)]),_:1}),t(r,{label:"剩余时间"},{default:e(()=>[l(s(a(o).remainingTime),1)]),_:1})]),_:1}),i[6]||(i[6]=m("div",{class:"form-title"},"厂家信息",-1)),t(V,{column:3,"label-width":"140",border:""},{default:e(()=>[t(r,{label:"委托单位"},{default:e(()=>[l(s(a(o).entrustCompany),1)]),_:1}),t(r,{label:"委托单位地址"},{default:e(()=>[l(s(a(o).entrustAddress),1)]),_:1}),t(r,{label:"委托单位法人"},{default:e(()=>[l(s(a(o).entrustLegalPerson),1)]),_:1}),t(r,{label:"委托单位信用代码"},{default:e(()=>[l(s(a(o).entrustCreditCode),1)]),_:1}),t(r,{label:"委托单位电话"},{default:e(()=>[l(s(a(o).entrustPhone),1)]),_:1}),t(r,{label:"委托单位邮编"},{default:e(()=>[l(s(a(o).entrustPostcode),1)]),_:1}),t(r,{label:"生产单位"},{default:e(()=>[l(s(a(o).productionCompany),1)]),_:1}),t(r,{label:"生产单位地址"},{default:e(()=>[l(s(a(o).productionAddress),1)]),_:1}),t(r,{label:"生产单位法人"},{default:e(()=>[l(s(a(o).productionLegalPerson),1)]),_:1}),t(r,{label:"生产单位信用代码"},{default:e(()=>[l(s(a(o).productionCreditCode),1)]),_:1}),t(r,{label:"生产单位电话"},{default:e(()=>[l(s(a(o).productionPhone),1)]),_:1}),t(r,{label:"生产单位邮编"},{default:e(()=>[l(s(a(o).productionPostcode),1)]),_:1})]),_:1}),i[7]||(i[7]=m("div",{class:"form-title !mt-5"},"原始文件",-1)),t(x,{ref_key:"originalRecordTableRef",ref:U,columns:h,data:a(M),pagination:!1},{fileName:e(p=>[t(k,{type:"primary",link:"",onClick:D(O=>T(p.row),["stop"])},{default:e(()=>[l(s(p.row.fileName),1)]),_:2},1032,["onClick"])]),operation:e(p=>[t(k,{type:"primary",link:"",onClick:D(O=>T(p.row),["stop"])},{default:e(()=>i[2]||(i[2]=[l("下载")])),_:2},1032,["onClick"])]),_:1},8,["data"])]),t($,{modelValue:a(g),"onUpdate:modelValue":i[0]||(i[0]=p=>L(g)?g.value=p:null),onConfirm:I},null,8,["modelValue"])]),_:1},8,["modelValue","title"])}}}),ve=Q(te,[["__scopeId","data-v-26793af4"]]);export{ve as default};
