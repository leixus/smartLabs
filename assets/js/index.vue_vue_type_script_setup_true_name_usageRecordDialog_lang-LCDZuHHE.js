/* empty css             *//* empty css                  *//* empty css                   */import{_ as x}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-D0lzutwe.js";/* empty css                  *//* empty css                       *//* empty css                 *//* empty css                 *//* empty css                   */import{d as u,p as C,X as B,i as V,o as D,w as o,a as N,b as i,D as E,e as r,ab as I,W as R,V as $}from"./index-Djyl84eR.js";const z={class:"table-box"},L=u({name:"usageRecordDialog"}),X=u({...L,props:{visible:{type:Boolean,default:!1},device:{type:Object,default:()=>({})}},emits:["update:visible"],setup(l,{emit:c}){const b=l,f=c,n=C(),p=B({get:()=>b.visible,set:t=>f("update:visible",t)}),w=[{type:"index",label:"序号",width:80},{prop:"useDate",label:"使用日期",width:120,search:{el:"date-picker"}},{prop:"operator",label:"操作人",width:120,search:{el:"input"}},{prop:"purpose",label:"使用目的",width:150},{prop:"startTime",label:"开始时间",width:150},{prop:"endTime",label:"结束时间",width:150},{prop:"duration",label:"使用时长(小时)",width:150},{prop:"testItems",label:"检测项目",width:150},{prop:"sampleCount",label:"样品数量",width:120},{prop:"status",label:"使用状态",width:120},{prop:"remarks",label:"备注",width:200},{prop:"operation",label:"操作",width:150,fixed:"right"}],g=async t=>{const e=[{id:1,useDate:"2023-10-15",operator:"张三",purpose:"常规检测",startTime:"2023-10-15 09:00:00",endTime:"2023-10-15 17:30:00",duration:8.5,testItems:"硬度测试、拉伸测试",sampleCount:12,status:"已完成",remarks:"设备运行正常，测试结果良好"},{id:2,useDate:"2023-10-20",operator:"李四",purpose:"特殊项目检测",startTime:"2023-10-20 08:30:00",endTime:"2023-10-20 16:00:00",duration:7.5,testItems:"压力测试、耐久性测试",sampleCount:8,status:"已完成",remarks:"设备在高负荷下表现稳定"}];return{code:200,data:{list:e,pageNum:t.pageNum||1,pageSize:t.pageSize||10,total:e.length}}},h=()=>{},k=t=>{},_=t=>{R.confirm("确定要删除该使用记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{var e;$.success("删除成功"),(e=n.value)==null||e.getTableList()})};return(t,e)=>{var d;const s=E,v=x,T=I;return D(),V(T,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),title:`${((d=l.device)==null?void 0:d.deviceName)||""} - 使用记录`,width:"70%","close-on-click-modal":!1},{default:o(()=>{var a;return[N("div",z,[i(v,{ref_key:"proTableRef",ref:n,columns:w,"request-api":g,"init-param":{deviceId:(a=l.device)==null?void 0:a.id}},{tableHeader:o(()=>[i(s,{type:"primary",onClick:h},{default:o(()=>e[1]||(e[1]=[r("新增记录")])),_:1})]),operation:o(m=>[i(s,{type:"primary",link:"",onClick:y=>k(m.row)},{default:o(()=>e[2]||(e[2]=[r("编辑")])),_:2},1032,["onClick"]),i(s,{type:"danger",link:"",onClick:y=>_(m.row)},{default:o(()=>e[3]||(e[3]=[r("删除")])),_:2},1032,["onClick"])]),_:1},8,["init-param"])])]}),_:1},8,["modelValue","title"])}}});export{X as _};
