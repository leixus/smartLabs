import{_ as O}from"./index-BpMzQZqs.js";/* empty css             *//* empty css                  *//* empty css                *//* empty css                */import{d as y,bf as g,p as m,bg as B,j as p,c as A,o as N,b as a,u as t,B as _,w as l,_ as T,ap as q,aH as R,D as j,e as b,aI as H,bH as v}from"./index-Djyl84eR.js";import{F as V}from"./formEnum-CT3LisML.js";import{r as d}from"./formRules-BdD8zfEi.js";import I from"./form_basic-V5y8b69M.js";import{_ as M}from"./form_more.vue_vue_type_script_setup_true_lang-BY9zWeIf.js";const $=y({name:"sysUserForm"}),h=y({...$,setup(z,{expose:U}){const D=g(),i=m(!1),n=m("basic"),k=D.getDictList(B.COMMON_STATUS),e=p({opt:V.ADD,record:{},disabled:!1}),x=p({account:[d("请输入账号")],name:[d("请输入姓名")],gender:[d("请选择性别")],positionId:[d("请选择部门和职位")]});function C(s){Object.assign(e,s),s.opt==V.ADD&&(e.record.sortCode=99,e.record.status=k[0].value),i.value=!0,s.record.id&&v.detail({id:s.record.id}).then(o=>{e.record=o.data})}const c=m();async function F(){var s;(s=c.value)==null||s.validate(async o=>{o&&await v.submitForm(e.record,e.record.id!=null).then(()=>{e.successful()}).finally(()=>{u()})})}function u(){i.value=!1,n.value="basic"}return U({onOpen:C}),(s,o)=>{const S=q,w=T,f=j,E=O;return N(),A("div",null,[a(E,{modelValue:t(i),"onUpdate:modelValue":o[3]||(o[3]=r=>_(i)?i.value=r:null),title:`${t(e).opt}用户`,"form-size":"800px",onClose:u},{footer:l(()=>[a(f,{onClick:u},{default:l(()=>o[4]||(o[4]=[b(" 取消 ")])),_:1}),R(a(f,{type:"primary",onClick:F},{default:l(()=>o[5]||(o[5]=[b(" 确定 ")])),_:1},512),[[H,!t(e).disabled]])]),default:l(()=>[a(w,{ref_key:"sysUserFormRef",ref:c,rules:t(x),disabled:t(e).disabled,model:t(e).record,"hide-required-asterisk":t(e).disabled,"label-width":"auto","label-suffix":" :"},{default:l(()=>[a(S,{modelValue:t(n),"onUpdate:modelValue":o[2]||(o[2]=r=>_(n)?n.value=r:null)},{default:l(()=>[a(I,{modelValue:t(e).record,"onUpdate:modelValue":o[0]||(o[0]=r=>t(e).record=r)},null,8,["modelValue"]),a(M,{modelValue:t(e).record,"onUpdate:modelValue":o[1]||(o[1]=r=>t(e).record=r)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1},8,["rules","disabled","model","hide-required-asterisk"])]),_:1},8,["modelValue","title"])])}}});export{h as _};
